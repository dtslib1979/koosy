<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0F1F15" />
  <meta name="robots" content="noindex, nofollow" />
  <title>Staff Portal | KOOSY</title>
  <style>
    :root {
      --bg: #0a0f0c;
      --bg-elevated: #141f18;
      --bg-card: #1a2b20;
      --gold: #f0c850;
      --gold-dim: rgba(240,200,80,.2);
      --text: #ffffff;
      --text-secondary: rgba(255,255,255,.85);
      --text-muted: rgba(255,255,255,.6);
      --border: rgba(255,255,255,.15);
      --border-gold: rgba(240,200,80,.5);
      --success: #5fd068;
      --info: #5bc0eb;
      --radius-sm: 10px;
      --radius-md: 14px;
      --radius-lg: 18px;
      --radius-full: 9999px;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-size: 16px;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 16px;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    a { color: inherit; text-decoration: none; }

    .container {
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
    }

    /* Login Gate */
    .login-gate {
      text-align: center;
      min-height: 80vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .login-logo {
      width: 80px;
      height: 80px;
      margin-bottom: 20px;
      background: var(--bg-elevated);
      border: 2px solid var(--gold);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      box-shadow: 0 4px 20px rgba(212,175,55,.2);
    }

    .login-title { font-size: 26px; font-weight: 700; margin-bottom: 8px; }
    .login-subtitle { font-size: 16px; color: var(--text-secondary); margin-bottom: 36px; }

    .login-input {
      width: 100%;
      max-width: 280px;
      padding: 16px 20px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      font-size: 20px;
      color: var(--text);
      text-align: center;
      letter-spacing: 8px;
      margin-bottom: 16px;
      transition: border-color 0.2s;
    }

    .login-input:focus { outline: none; border-color: var(--gold); }
    .login-input::placeholder { letter-spacing: normal; font-size: 14px; color: var(--text-muted); }

    .login-btn {
      width: 100%;
      max-width: 280px;
      padding: 16px;
      background: linear-gradient(135deg, var(--gold), #C9A227);
      border: none;
      border-radius: var(--radius-md);
      font-size: 15px;
      font-weight: 600;
      color: var(--bg);
      cursor: pointer;
      transition: all 0.2s;
    }

    .login-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(212,175,55,.35); }
    .login-error { color: #FF6B6B; font-size: 13px; margin-top: 16px; display: none; }
    .login-error.show { display: block; }

    /* Portal */
    .portal { display: none; }
    .portal.active { display: block; }

    .portal-header {
      text-align: center;
      margin-bottom: 28px;
      padding: 24px 0;
      border-bottom: 2px solid var(--border-gold);
      background: linear-gradient(180deg, rgba(240,200,80,.08) 0%, transparent 100%);
      border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    }

    .portal-title {
      font-size: 32px;
      font-weight: 800;
      margin-bottom: 8px;
      color: var(--gold);
      letter-spacing: 0.05em;
      text-shadow: 0 2px 8px rgba(240,200,80,.3);
    }

    .portal-subtitle {
      font-size: 13px;
      font-weight: 500;
      color: var(--text);
      letter-spacing: 0.1em;
      text-transform: uppercase;
      opacity: 0.8;
    }

    /* Accordion */
    .accordion { margin-bottom: 14px; }

    .accordion-header {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 18px 16px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all 0.2s;
      width: 100%;
      text-align: left;
    }

    .accordion-header:hover { border-color: var(--gold); background: var(--bg-card); }
    .accordion.open .accordion-header { border-color: var(--gold); border-radius: var(--radius-md) var(--radius-md) 0 0; background: var(--gold); }
    .accordion.open .accordion-header .accordion-title,
    .accordion.open .accordion-header .accordion-desc,
    .accordion.open .accordion-header .accordion-toggle { color: var(--bg); }

    .accordion-step {
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--gold);
      border-radius: var(--radius-full);
      font-size: 18px;
      font-weight: 800;
      color: var(--bg);
      flex-shrink: 0;
    }

    .accordion.open .accordion-step { background: var(--bg); color: var(--gold); }

    .accordion-info { flex: 1; }
    .accordion-title { font-size: 17px; font-weight: 700; margin-bottom: 2px; color: var(--gold); }
    .accordion-desc { font-size: 13px; color: var(--text-secondary); }

    .accordion-toggle {
      font-size: 20px;
      color: var(--text-muted);
      transition: transform 0.3s;
    }

    .accordion.open .accordion-toggle { transform: rotate(180deg); }

    .accordion-content {
      display: none;
      background: var(--bg-card);
      border: 2px solid var(--gold);
      border-top: none;
      border-radius: 0 0 var(--radius-md) var(--radius-md);
      padding: 14px;
    }

    .accordion.open .accordion-content { display: block; }

    /* Step List */
    .step-list { display: flex; flex-direction: column; gap: 10px; }

    .step-item {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 14px 16px;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      transition: all 0.2s;
      color: var(--text);
    }

    .step-item:hover { border-color: var(--gold); background: var(--bg-card); }

    .step-number {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--gold-dim);
      border: 2px solid var(--gold);
      border-radius: var(--radius-full);
      font-size: 14px;
      font-weight: 700;
      color: var(--gold);
      flex-shrink: 0;
    }

    .step-content { flex: 1; min-width: 0; }
    .step-name { font-size: 15px; font-weight: 600; margin-bottom: 2px; }
    .step-desc { font-size: 13px; color: var(--text-secondary); }
    .step-arrow { font-size: 18px; color: var(--gold); }
    .step-item:hover .step-arrow { transform: translateX(4px); }

    /* Repo Grid */
    .repo-grid {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 16px;
    }

    .repo-card {
      background: var(--bg-card);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      padding: 16px;
      transition: all 0.2s;
    }

    .repo-card:hover { border-color: var(--gold); background: var(--bg-elevated); }

    .repo-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }

    .repo-icon { font-size: 26px; }
    .repo-name { font-size: 13px; font-weight: 700; }

    .repo-badge {
      font-size: 10px;
      font-weight: 600;
      padding: 3px 8px;
      border-radius: var(--radius-full);
      margin-left: auto;
    }

    .repo-badge.web { background: rgba(91,192,235,.25); color: var(--info); }
    .repo-badge.apk { background: rgba(95,208,104,.25); color: var(--success); }

    .repo-links {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .repo-link {
      font-size: 13px;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* Connection Map */
    .connection-map {
      background: var(--bg-card);
      border: 2px dashed var(--border-gold);
      border-radius: var(--radius-md);
      padding: 16px;
    }

    .connection-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 14px;
      text-align: center;
    }

    .connection-flow {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .connection-node {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 10px 14px;
      font-size: 12px;
      font-weight: 600;
    }

    .connection-arrow { color: var(--gold); font-size: 18px; font-weight: bold; }

    /* Section */
    .section { margin-bottom: 24px; }

    .section-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 14px;
    }

    .section-badge {
      font-size: 11px;
      font-weight: 700;
      color: var(--bg);
      background: var(--gold);
      padding: 5px 12px;
      border-radius: var(--radius-full);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .section-exit {
      margin-top: 48px;
      padding-top: 32px;
      border-top: 1px solid var(--border);
    }

    .badge-system {
      background: rgba(255,255,255,.12);
      color: var(--text-muted);
    }

    .badge-admin {
      background: rgba(255,100,100,.2);
      color: #ff6b6b;
    }

    .section-admin {
      border: 1px dashed rgba(255,100,100,.3);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 24px;
    }

    .accordion-exit .accordion-header {
      opacity: 0.6;
      transition: opacity 0.2s;
    }

    .accordion-exit .accordion-header:hover,
    .accordion-exit.open .accordion-header {
      opacity: 1;
    }

    .exit-content {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.8;
    }

    .exit-content p {
      margin-bottom: 16px;
    }

    .exit-content .highlight {
      color: var(--gold);
      font-weight: 600;
    }

    .exit-guide-section {
      margin-top: 28px;
      padding-top: 24px;
      border-top: 1px solid var(--border);
    }

    .exit-guide-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-muted);
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .section-title { font-size: 18px; font-weight: 700; }

    /* HOTLINE HQ Styles */
    .section-hotline {
      background: linear-gradient(135deg, rgba(212,175,55,0.05) 0%, transparent 50%);
      border-radius: var(--radius-md);
      padding: 20px 16px;
      margin-top: 20px;
    }

    .badge-hotline {
      background: linear-gradient(135deg, #D4AF37 0%, #F0C850 100%);
      color: var(--bg);
      font-weight: 800;
    }

    .hq-with {
      font-size: 12px;
      font-weight: 400;
      color: var(--text-muted);
      margin: 0 4px;
    }

    .hotline-tagline {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 8px;
      margin-bottom: 20px;
    }

    .hq-link {
      color: var(--gold);
      text-decoration: none;
    }

    .hq-link:hover {
      text-decoration: underline;
    }

    .hotline-card {
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      padding: 16px;
      margin-bottom: 12px;
    }

    .hotline-card-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .hotline-card-icon {
      font-size: 20px;
    }

    .hotline-card-title {
      font-size: 15px;
      font-weight: 700;
      color: var(--text);
    }

    .hotline-card-desc {
      font-size: 12px;
      color: var(--text-secondary);
      margin-bottom: 14px;
      line-height: 1.5;
    }

    /* Notice Board */
    .notice-board {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      margin-bottom: 14px;
      overflow: hidden;
    }

    .notice-header {
      background: rgba(240, 200, 80, 0.1);
      padding: 10px 14px;
      border-bottom: 1px solid var(--border);
    }

    .notice-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--gold);
    }

    .notice-list {
      max-height: 200px;
      overflow-y: auto;
    }

    .notice-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      text-decoration: none;
      border-bottom: 1px solid var(--border);
      transition: background 0.2s;
    }

    .notice-item:last-child {
      border-bottom: none;
    }

    .notice-item:hover {
      background: rgba(240, 200, 80, 0.05);
    }

    .notice-badge {
      font-size: 10px;
      font-weight: 700;
      padding: 2px 6px;
      border-radius: 4px;
      flex-shrink: 0;
    }

    .notice-badge.new {
      background: var(--gold);
      color: var(--bg);
    }

    .notice-text {
      flex: 1;
      font-size: 13px;
      color: var(--text);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .notice-date {
      font-size: 11px;
      color: var(--text-muted);
      flex-shrink: 0;
    }

    .briefing-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .briefing-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      padding: 14px 10px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      text-decoration: none;
      transition: all 0.2s;
    }

    .briefing-item:hover {
      border-color: var(--gold);
      transform: translateY(-2px);
    }

    .briefing-icon {
      font-size: 24px;
    }

    .briefing-label {
      font-size: 12px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .briefing-item:hover .briefing-label {
      color: var(--gold);
    }

    /* HQ Branch Network */
    .branch-network {
      margin-top: 16px;
    }

    .branch-network-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .branch-network-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--gold);
    }

    .branch-network-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }

    .branch-card-mini {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      text-decoration: none;
      transition: all 0.2s;
    }

    .branch-card-mini:hover {
      border-color: var(--gold);
      transform: translateY(-2px);
    }

    .branch-card-mini.current {
      border-color: var(--gold);
      background: rgba(212,175,55,0.08);
    }

    .branch-avatar-mini {
      width: 36px;
      height: 36px;
      border-radius: 8px;
      object-fit: cover;
      border: 2px solid var(--border);
    }

    .branch-card-mini:hover .branch-avatar-mini,
    .branch-card-mini.current .branch-avatar-mini {
      border-color: var(--gold);
    }

    .branch-info-mini {
      flex: 1;
      min-width: 0;
    }

    .branch-name-mini {
      font-size: 13px;
      font-weight: 600;
      color: var(--text);
    }

    .branch-status-mini {
      font-size: 10px;
      color: var(--text-muted);
    }

    .branch-status-mini.active {
      color: var(--green);
    }

    .branch-status-mini.incubation {
      color: var(--purple);
    }

    /* Ïπ¥ÌÜ° Ïä§ÌÉÄÏùº Ï±ÑÌåÖ */
    .chat-preview {
      background: var(--bg);
      border-radius: var(--radius-sm);
      padding: 12px;
      margin-bottom: 14px;
    }

    .chat-bubble {
      max-width: 75%;
      padding: 8px 12px;
      border-radius: 12px;
      margin-bottom: 8px;
    }

    .chat-bubble.hq {
      background: #F9E076;
      color: #1a1a1a;
      margin-left: auto;
      border-bottom-right-radius: 4px;
    }

    .chat-bubble.partner {
      background: var(--bg-elevated);
      color: var(--text);
      margin-right: auto;
      border-bottom-left-radius: 4px;
    }

    .chat-sender {
      display: block;
      font-size: 9px;
      font-weight: 700;
      margin-bottom: 2px;
      opacity: 0.7;
    }

    .chat-text {
      font-size: 12px;
      line-height: 1.4;
    }

    /* Ïπ¥Ïπ¥Ïò§ÌÜ° Ïä§ÌÉÄÏùº Ï±ÑÌåÖ UI */
    .kakao-chat {
      background: #9bbbd4;
      border-radius: var(--radius-md);
      overflow: hidden;
    }

    .kakao-chat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 14px;
      background: #8aacbf;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }

    .kakao-room-title {
      font-size: 13px;
      font-weight: 600;
      color: #2c4a5e;
    }

    .kakao-refresh-btn {
      background: none;
      border: none;
      font-size: 16px;
      color: #4a6a7a;
      cursor: pointer;
      padding: 4px;
    }

    .kakao-refresh-btn:hover {
      color: #2c4a5e;
    }

    .kakao-chat-messages {
      padding: 16px;
      min-height: 200px;
      max-height: 450px;
      overflow-y: auto;
    }

    /* Ï†ÑÏ≤¥ÌôîÎ©¥ Ïò§Î≤ÑÎ†àÏù¥ */
    .kakao-fullscreen-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.95);
      z-index: 9999;
      flex-direction: column;
    }

    .kakao-fullscreen-overlay.active {
      display: flex;
    }

    .kakao-fullscreen-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      background: #8aacbf;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }

    .kakao-fullscreen-title {
      font-size: 16px;
      font-weight: 600;
      color: #2c4a5e;
    }

    .kakao-fullscreen-close {
      background: none;
      border: none;
      font-size: 24px;
      color: #2c4a5e;
      cursor: pointer;
      padding: 4px 8px;
    }

    .kakao-fullscreen-messages {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: #9bbbd4;
    }

    .kakao-fullscreen-input {
      display: flex;
      gap: 10px;
      padding: 16px 20px;
      background: #eff2f5;
    }

    .kakao-fullscreen-input input {
      flex: 1;
      padding: 14px 18px;
      border: none;
      border-radius: 24px;
      font-size: 15px;
    }

    .kakao-fullscreen-input button {
      padding: 14px 24px;
      background: #F9E000;
      border: none;
      border-radius: 24px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }

    .kakao-expand-btn {
      background: none;
      border: none;
      font-size: 16px;
      color: #4a6a7a;
      cursor: pointer;
      padding: 4px;
    }

    .kakao-expand-btn:hover {
      color: #2c4a5e;
    }

    .kakao-loading {
      text-align: center;
      padding: 40px;
      color: #5a7a8a;
      font-size: 13px;
    }

    .kakao-empty {
      text-align: center;
      padding: 40px 20px;
      color: #5a7a8a;
    }

    .kakao-empty-icon {
      font-size: 32px;
      margin-bottom: 8px;
    }

    .kakao-empty-text {
      font-size: 13px;
    }

    .chat-date-divider {
      text-align: center;
      font-size: 11px;
      color: #5a7a8a;
      background: rgba(255,255,255,0.5);
      padding: 4px 12px;
      border-radius: 20px;
      margin: 12px auto;
      width: fit-content;
    }

    .kakao-bubble-wrap {
      display: flex;
      align-items: flex-end;
      gap: 6px;
      margin-bottom: 8px;
    }

    .kakao-bubble-wrap.hq {
      flex-direction: row-reverse;
    }

    .kakao-bubble-wrap.partner {
      flex-direction: row;
    }

    .kakao-bubble {
      max-width: 70%;
      padding: 10px 14px;
      border-radius: 16px;
      position: relative;
    }

    .kakao-bubble-wrap.hq .kakao-bubble {
      background: #F9E000;
      color: #1a1a1a;
      border-bottom-right-radius: 4px;
    }

    .kakao-bubble-wrap.partner .kakao-bubble {
      background: #ffffff;
      color: #1a1a1a;
      border-bottom-left-radius: 4px;
    }

    .kakao-sender {
      display: block;
      font-size: 10px;
      font-weight: 700;
      margin-bottom: 4px;
      opacity: 0.7;
    }

    .kakao-text {
      font-size: 13px;
      line-height: 1.5;
      white-space: pre-wrap;
      word-break: break-word;
    }

    .kakao-time {
      font-size: 10px;
      color: #5a7a8a;
      white-space: nowrap;
    }

    .kakao-see-more {
      display: block;
      margin-top: 6px;
      background: none;
      border: none;
      color: #3a6a8a;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      padding: 0;
    }

    .kakao-see-more:hover {
      text-decoration: underline;
    }

    .kakao-bubble-actions {
      display: flex;
      gap: 8px;
      margin-top: 6px;
      align-items: center;
    }

    .kakao-download-btn,
    .kakao-copy-btn {
      background: rgba(0,0,0,0.05);
      border: none;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .kakao-download-btn:hover,
    .kakao-copy-btn:hover {
      background: rgba(0,0,0,0.1);
    }

    .kakao-input-area {
      background: #eff2f5;
      padding: 10px;
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .kakao-input {
      flex: 1;
      padding: 10px 14px;
      background: #ffffff;
      border: none;
      border-radius: 20px;
      font-size: 14px;
      outline: none;
    }

    .kakao-input:focus {
      box-shadow: 0 0 0 2px #F9E000;
    }

    .kakao-send-btn {
      padding: 10px 16px;
      background: #F9E000;
      border: none;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      color: #1a1a1a;
      cursor: pointer;
      transition: all 0.2s;
    }

    .kakao-send-btn:hover {
      background: #e6cf00;
    }

    .kakao-pr-btn {
      width: 40px;
      height: 40px;
      background: #F9E000;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      color: #1a1a1a;
      cursor: pointer;
      transition: all 0.2s;
    }

    .kakao-pr-btn:hover {
      background: #e6cf00;
      transform: scale(1.1);
    }

    .kakao-new-chat {
      display: block;
      text-align: center;
      padding: 12px;
      margin-top: 10px;
      background: var(--bg-elevated);
      border: 1px dashed var(--border);
      border-radius: var(--radius-sm);
      color: var(--text-muted);
      font-size: 13px;
      text-decoration: none;
      transition: all 0.2s;
    }

    .kakao-new-chat:hover {
      border-color: var(--gold);
      color: var(--gold);
    }

    .hotline-btn {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: var(--gold-dim);
      border: 1px solid var(--gold);
      border-radius: var(--radius-md);
      color: var(--gold);
      font-size: 13px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.2s;
    }

    .hotline-btn:hover {
      background: var(--gold);
      color: var(--bg);
    }

    .hotline-btn-arrow {
      font-size: 16px;
    }

    .hotline-card-action {
      border-color: var(--gold);
      border-width: 2px;
    }

    .hotline-actions {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
    }

    .hotline-action-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      padding: 14px 8px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      text-decoration: none;
      transition: all 0.2s;
    }

    .hotline-action-btn:hover {
      border-color: var(--gold);
      background: var(--gold-dim);
    }

    .action-icon {
      font-size: 22px;
    }

    .action-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .hotline-action-btn:hover .action-label {
      color: var(--gold);
    }

    /* APK List */
    .apk-list { display: flex; flex-direction: column; gap: 10px; }

    .apk-item {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      transition: all 0.2s;
      color: var(--text);
    }

    .apk-item:hover { border-color: var(--gold); background: var(--bg-card); }

    .apk-icon {
      font-size: 28px;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--gold-dim);
      border-radius: var(--radius-md);
      flex-shrink: 0;
    }

    .apk-content { flex: 1; min-width: 0; }
    .apk-name { font-size: 16px; font-weight: 700; margin-bottom: 4px; }
    .apk-desc { font-size: 13px; color: var(--text-secondary); }

    .apk-version {
      font-size: 12px;
      font-weight: 700;
      color: var(--gold);
      background: var(--gold-dim);
      padding: 6px 10px;
      border-radius: var(--radius-full);
      flex-shrink: 0;
    }

    .apk-download { font-size: 22px; color: var(--text-muted); transition: all 0.2s; }
    .apk-item:hover .apk-download { color: var(--gold); transform: translateY(2px); }

    .apk-note { font-size: 13px; color: var(--text-secondary); margin-top: 12px; padding-left: 4px; }

    /* Store Links */
    .store-links {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .store-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      transition: all 0.2s;
    }

    .store-item:hover { border-color: var(--gold); }
    .store-item.disabled { opacity: 0.5; pointer-events: none; }

    .store-icon { font-size: 24px; }
    .store-content { flex: 1; }
    .store-name { font-size: 14px; font-weight: 600; }
    .store-url { font-size: 11px; color: var(--text-muted); }
    .store-arrow { font-size: 18px; color: var(--gold); }

    /* Quick Links - ÏïÑÏù¥ÏΩò Ïä§ÌÉÄÏùº */
    .quick-links { display: flex; justify-content: center; gap: 16px; }

    .quick-link {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      padding: 10px;
      background: transparent;
      border: none;
      font-size: 10px;
      font-weight: 500;
      color: var(--text-muted);
      transition: all 0.2s;
    }

    .quick-link:hover { color: var(--gold); }

    .quick-link-icon {
      width: 44px;
      height: 44px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: all 0.2s;
    }

    .quick-link:hover .quick-link-icon { border-color: var(--gold); }

    /* Galaxy Express Navigation */
    .galaxy-express {
      margin-top: 28px;
      padding: 20px 16px;
      border-top: 1px solid var(--border);
      position: relative;
      overflow: hidden;
    }

    .galaxy-stars {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .galaxy-star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--gold);
      border-radius: 50%;
      animation: twinkle 2s ease-in-out infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.8; }
    }

    .orbit-container {
      position: relative;
      height: 90px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .orbit-track {
      position: absolute;
      width: 180px;
      height: 55px;
      border: 2px solid var(--gold);
      border-radius: 50%;
      opacity: 0.4;
    }

    .orbit-track::before {
      content: '';
      position: absolute;
      inset: -4px;
      border: 1px solid var(--gold);
      border-radius: 50%;
      opacity: 0.2;
    }

    .train-group {
      position: absolute;
      offset-path: ellipse(90px 27.5px);
      offset-rotate: auto;
      animation: orbit-ellipse 5s linear infinite;
      display: flex;
      align-items: center;
      gap: 2px;
    }

    @keyframes orbit-ellipse {
      0% { offset-distance: 0%; }
      100% { offset-distance: 100%; }
    }

    .train {
      font-size: 20px;
      filter: drop-shadow(0 0 8px var(--gold));
      animation: train-bob 0.4s ease-in-out infinite;
    }

    @keyframes train-bob {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-2px); }
    }

    .train-number {
      font-size: 10px;
      font-weight: 900;
      color: var(--gold);
      text-shadow: 0 0 6px var(--gold);
      letter-spacing: -0.5px;
      margin-left: -4px;
    }

    .smoke {
      display: flex;
      gap: 2px;
      margin-right: 4px;
    }

    .smoke-particle {
      width: 4px;
      height: 4px;
      background: var(--text-muted);
      border-radius: 50%;
      animation: smoke-fade 0.6s ease-out infinite;
    }

    .smoke-particle:nth-child(2) { animation-delay: 0.15s; width: 3px; height: 3px; }
    .smoke-particle:nth-child(3) { animation-delay: 0.3s; width: 2px; height: 2px; }

    @keyframes smoke-fade {
      0% { opacity: 0.5; transform: translate(0, 0) scale(1); }
      100% { opacity: 0; transform: translate(-8px, -6px) scale(0.5); }
    }

    .branch-stations {
      position: absolute;
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 8px;
    }

    .branch-station {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      text-decoration: none;
      background: none;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
    }

    .branch-station:hover {
      transform: translateY(-2px);
    }

    .branch-node {
      width: 28px;
      height: 28px;
      background: var(--bg-elevated);
      border: 2px solid var(--gold);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      transition: all 0.2s;
    }

    .branch-station:hover .branch-node {
      box-shadow: 0 0 12px var(--gold);
      transform: scale(1.1);
    }

    .branch-station.exit .branch-node {
      border-color: #ff6b6b;
    }

    .branch-station.exit:hover .branch-node {
      box-shadow: 0 0 12px #ff6b6b;
    }

    .branch-label {
      font-size: 10px;
      font-weight: 600;
      color: var(--text-muted);
      transition: color 0.2s;
    }

    .branch-station:hover .branch-label {
      color: var(--gold);
    }

    .branch-station.exit:hover .branch-label {
      color: #ff6b6b;
    }

    .branch-line {
      position: absolute;
      height: 2px;
      background: var(--gold);
      opacity: 0.3;
    }

    .branch-line.left {
      width: 40px;
      left: 36px;
      top: 50%;
      transform: rotate(-20deg);
    }

    .branch-line.right {
      width: 40px;
      right: 36px;
      top: 50%;
      transform: rotate(20deg);
    }

    .express-label {
      text-align: center;
      margin-top: 8px;
      font-size: 9px;
      font-weight: 600;
      color: var(--text-muted);
      letter-spacing: 0.15em;
      text-transform: uppercase;
    }

    .back-link {
      display: block;
      text-align: center;
      margin-top: 20px;
      padding: 14px;
      font-size: 14px;
      color: var(--text-secondary);
    }

    .back-link:hover { color: var(--gold); }

    /* Prompt Box */
    .prompt-box {
      background: var(--bg);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      padding: 16px;
      margin-top: 14px;
      position: relative;
    }

    .prompt-label {
      font-size: 12px;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .prompt-content {
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.7;
      font-family: monospace;
      white-space: pre-wrap;
      word-break: break-all;
      max-height: 200px;
      overflow-y: auto;
    }

    .prompt-copy-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: var(--gold);
      border: none;
      border-radius: var(--radius-sm);
      padding: 10px 16px;
      font-size: 13px;
      font-weight: 700;
      color: var(--bg);
      cursor: pointer;
      transition: all 0.2s;
    }

    .prompt-copy-btn:hover { transform: scale(1.05); }
    .prompt-copy-btn:active { transform: scale(0.95); }

    .copy-toast {
      position: fixed;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: var(--bg-elevated);
      border: 2px solid var(--gold);
      padding: 14px 24px;
      border-radius: var(--radius-full);
      font-size: 14px;
      font-weight: 600;
      color: var(--gold);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 1000;
      pointer-events: none;
    }

    .copy-toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    .network-desc {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 16px;
      padding: 14px;
      background: var(--bg-elevated);
      border-radius: var(--radius-sm);
      border-left: 4px solid var(--gold);
    }

    /* Repo Setup Form */
    .repo-input-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 12px;
    }

    .repo-input-row {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .repo-input-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--text-secondary);
      min-width: 50px;
      flex-shrink: 0;
    }

    .repo-input {
      flex: 1;
      min-width: 0;
      padding: 10px 12px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: 13px;
      color: var(--text);
      transition: border-color 0.2s;
    }

    .repo-input:focus { outline: none; border-color: var(--gold); }
    .repo-input::placeholder { color: var(--text-muted); font-size: 13px; }

    .repo-input-status {
      font-size: 20px;
      width: 30px;
      text-align: center;
    }

    .repo-save-btn {
      width: 100%;
      padding: 14px;
      background: var(--gold);
      border: none;
      border-radius: var(--radius-md);
      font-size: 15px;
      font-weight: 700;
      color: var(--bg);
      cursor: pointer;
      transition: all 0.2s;
    }

    .repo-save-btn:hover { transform: scale(1.02); }
    .repo-save-btn:active { transform: scale(0.98); }

    .repo-card.empty {
      border-style: dashed;
      opacity: 0.6;
    }

    .repo-card.empty:hover { opacity: 1; }

    .repo-status {
      font-size: 18px;
      margin-left: auto;
    }

    .repo-badge.web { background: rgba(91,192,235,.25); color: var(--info); }
    .repo-badge.apk { background: rgba(95,208,104,.25); color: var(--success); }

    /* Instruction Tabs */
    .instruction-tabs {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      margin-bottom: 14px;
    }

    .inst-tab {
      padding: 12px 8px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: 12px;
      font-weight: 600;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }

    .inst-tab:hover { border-color: var(--gold); color: var(--text); }
    .inst-tab.active { background: var(--gold); border-color: var(--gold); color: var(--bg); }

    /* Check Status */
    .check-status {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: var(--radius-full);
      font-size: 11px;
      font-weight: 600;
    }
    .check-status.ok { background: rgba(95,208,104,.2); color: var(--success); }
    .check-status.fail { background: rgba(255,85,85,.2); color: #ff5555; }
    .check-status.checking { background: var(--gold-dim); color: var(--gold); }

    /* Tutorial Carousel */
    .tutorial-carousel {
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      padding: 14px;
      margin-bottom: 12px;
    }

    .carousel-header {
      margin-bottom: 12px;
    }

    .carousel-label {
      font-size: 11px;
      font-weight: 700;
      color: var(--gold);
      letter-spacing: 0.05em;
    }

    .carousel-scroll {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding-bottom: 4px;
      -webkit-overflow-scrolling: touch;
    }

    .carousel-scroll::-webkit-scrollbar { height: 4px; }
    .carousel-scroll::-webkit-scrollbar-track { background: var(--bg); border-radius: 2px; }
    .carousel-scroll::-webkit-scrollbar-thumb { background: var(--gold-dim); border-radius: 2px; }

    .tutorial-card {
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 16px 24px;
      background: var(--bg-card);
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      transition: all 0.2s;
    }

    .tutorial-card:hover {
      border-color: var(--gold);
      background: var(--gold-dim);
    }

    .tutorial-icon { font-size: 24px; }
    .tutorial-title { font-size: 12px; font-weight: 600; color: var(--text-secondary); }

    /* Doc Links */
    .doc-links {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .doc-item {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      transition: all 0.2s;
    }

    .doc-item:hover {
      border-color: var(--gold);
      background: var(--bg-card);
    }

    .doc-icon { font-size: 24px; }
    .doc-content { flex: 1; }
    .doc-name { font-size: 15px; font-weight: 600; margin-bottom: 2px; }
    .doc-desc { font-size: 12px; color: var(--text-secondary); }
    .doc-arrow { font-size: 18px; color: var(--gold); }

    @media (max-width: 400px) {
      .instruction-tabs { grid-template-columns: repeat(2, 1fr); }
      .connection-flow { flex-direction: column; }
      .quick-links { grid-template-columns: 1fr; }
    }

    /* ========== Control Panel ========== */
    .control-panel-section {
      margin-bottom: 24px;
    }

    .control-panels {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 16px;
    }

    .control-card {
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      padding: 16px;
      transition: all 0.2s;
    }

    .control-card:hover {
      border-color: var(--gold);
    }

    .control-card-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border);
    }

    .control-icon {
      font-size: 20px;
    }

    .control-label {
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--gold);
    }

    .control-tools {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .control-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: 13px;
      font-weight: 500;
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      font-family: inherit;
    }

    .control-btn:hover {
      border-color: var(--gold);
      background: var(--gold-dim);
      color: var(--gold);
    }

    /* Draft Manager */
    .draft-manager {
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      overflow: hidden;
    }

    .draft-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: var(--bg-card);
      font-size: 12px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .draft-count {
      background: var(--gold);
      color: var(--bg);
      font-size: 10px;
      font-weight: 700;
      padding: 3px 8px;
      border-radius: 10px;
      min-width: 20px;
      text-align: center;
    }

    .draft-list {
      padding: 12px;
      max-height: 200px;
      overflow-y: auto;
    }

    .draft-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      margin-bottom: 8px;
      transition: all 0.2s;
      text-decoration: none;
      color: var(--text);
    }

    .draft-item:last-child {
      margin-bottom: 0;
    }

    .draft-item:hover {
      border-color: var(--gold);
    }

    .draft-badge {
      font-size: 10px;
      font-weight: 600;
      padding: 2px 6px;
      background: rgba(255,165,0,.2);
      color: #FFA500;
      border-radius: 4px;
    }

    .published-badge {
      font-size: 10px;
      font-weight: 600;
      padding: 2px 6px;
      background: rgba(95,208,104,.2);
      color: #5fd068;
      border-radius: 4px;
    }

    .draft-title {
      flex: 1;
      font-size: 13px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .draft-empty {
      text-align: center;
      padding: 20px;
      color: var(--text-muted);
      font-size: 12px;
    }

    /* ========== HTMLPost Modal ========== */
    .htmlpost-modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.95);
      z-index: 2000;
      padding: 16px;
      overflow-y: auto;
    }

    .htmlpost-modal.show {
      display: block;
    }

    .htmlpost-container {
      max-width: 600px;
      margin: 0 auto;
      background: var(--bg-elevated);
      border: 2px solid var(--gold);
      border-radius: var(--radius-lg);
      overflow: hidden;
    }

    .htmlpost-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      background: var(--gold);
    }

    .htmlpost-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--bg);
    }

    .htmlpost-close {
      width: 32px;
      height: 32px;
      background: var(--bg);
      color: var(--gold);
      border: none;
      border-radius: 8px;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s;
    }

    .htmlpost-close:hover {
      transform: scale(1.1);
    }

    .htmlpost-content {
      padding: 20px;
    }

    .htmlpost-input {
      width: 100%;
      height: 200px;
      padding: 16px;
      background: var(--bg);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      font-family: monospace;
      font-size: 12px;
      color: var(--text);
      resize: vertical;
      margin-bottom: 12px;
    }

    .htmlpost-input:focus {
      outline: none;
      border-color: var(--gold);
    }

    .htmlpost-input::placeholder {
      color: var(--text-muted);
    }

    .htmlpost-actions {
      display: flex;
      gap: 10px;
      margin-bottom: 16px;
    }

    .htmlpost-btn {
      flex: 1;
      padding: 12px;
      background: var(--bg-card);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      font-size: 13px;
      font-weight: 600;
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s;
      font-family: inherit;
    }

    .htmlpost-btn:hover {
      border-color: var(--gold);
    }

    .htmlpost-btn.primary {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--bg);
    }

    .htmlpost-btn.primary:hover {
      background: #E8C547;
    }

    .htmlpost-preview {
      background: #fff;
      border-radius: var(--radius-md);
      min-height: 100px;
      max-height: 400px;
      overflow-y: auto;
    }

    .htmlpost-preview:empty::before {
      content: 'Preview will appear here';
      display: block;
      padding: 40px;
      text-align: center;
      color: #999;
      font-size: 13px;
    }

    @media (max-width: 500px) {
      .control-panels {
        grid-template-columns: 1fr;
      }
    }

    /* ========== Console Panel ========== */
    .console-links {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .console-link-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 16px;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 12px;
      text-decoration: none;
      color: var(--text);
      transition: all .2s ease;
    }

    .console-link-item:hover {
      border-color: var(--gold);
      background: var(--bg-card);
    }

    .console-icon {
      font-size: 24px;
    }

    .console-text {
      flex: 1;
    }

    .console-name {
      font-weight: 600;
      font-size: 15px;
    }

    .console-desc {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 2px;
    }

    .console-arrow {
      color: var(--gold);
      font-size: 18px;
    }

    /* Phase Accordion */
    .phase-accordion {
      margin-top: 12px;
      border: 1px solid var(--border-gold);
      border-radius: 12px;
      overflow: hidden;
    }

    .phase-header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 16px;
      background: var(--bg-elevated);
      cursor: pointer;
      list-style: none;
    }

    .phase-header::-webkit-details-marker {
      display: none;
    }

    .phase-badge {
      background: var(--gold);
      color: var(--bg);
      font-size: 11px;
      font-weight: 700;
      padding: 4px 10px;
      border-radius: 20px;
    }

    .phase-title {
      flex: 1;
      font-weight: 600;
      font-size: 14px;
      color: var(--text);
    }

    .phase-toggle {
      color: var(--gold);
      transition: transform .2s;
    }

    .phase-accordion[open] .phase-toggle {
      transform: rotate(180deg);
    }

    .phase-content {
      padding: 16px;
      background: var(--bg-card);
    }

    .phase-desc {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 16px;
    }

    .platform-category {
      margin-bottom: 14px;
    }

    .platform-category:last-child {
      margin-bottom: 0;
    }

    .category-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--gold);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }

    .platform-links {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .platform-chip {
      padding: 8px 14px;
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 12px;
      color: var(--text);
      text-decoration: none;
      transition: all .2s;
    }

    .platform-chip:hover {
      border-color: var(--gold);
      color: var(--gold);
    }
  </style>
</head>
<body>

<div class="container">
  <!-- Login Gate -->
  <div class="login-gate" id="loginGate">
    <div class="login-logo">üîê</div>
    <h1 class="login-title">Staff Portal</h1>
    <p class="login-subtitle">KOOSY ÎÇ¥Î∂Ä Í¥ÄÎ¶¨ ÎèÑÍµ¨</p>
    <input type="tel" inputmode="numeric" pattern="[0-9]*" class="login-input" id="passwordInput" placeholder="ÏïîÌò∏ 4ÏûêÎ¶¨" maxlength="4" autocomplete="off" autofocus />
    <button class="login-btn" id="loginBtn">Ï†ëÏÜç</button>
    <p class="login-error" id="loginError">ÏïîÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§</p>
  </div>

  <!-- Portal Content -->
  <div class="portal" id="portal">
    <header class="portal-header">
      <h1 class="portal-title">Secret Office</h1>
      <p class="portal-subtitle">KOOSY Admin Dashboard</p>
    </header>

    <!-- HTMLPost Modal -->
    <div class="htmlpost-modal" id="htmlPostModal">
      <div class="htmlpost-container">
        <div class="htmlpost-header">
          <h3 class="htmlpost-title">üìÑ HTMLPost Viewer</h3>
          <button class="htmlpost-close" onclick="closeHtmlPost()">&times;</button>
        </div>
        <div class="htmlpost-content">
          <textarea class="htmlpost-input" id="htmlInput" placeholder="Paste HTML code here..."></textarea>
          <div class="htmlpost-actions">
            <button class="htmlpost-btn" onclick="previewHtml()">üëÅÔ∏è Preview</button>
            <button class="htmlpost-btn primary" onclick="copyHtml()">üìã Copy</button>
          </div>
          <div class="htmlpost-preview" id="htmlPreview"></div>
        </div>
      </div>
    </div>

    <!-- ÏÉùÏÇ∞ÏÑ± ÎèÑÍµ¨ APK (Í≥†Ï†ï) -->
    <section class="section">
      <div class="section-header">
        <span class="section-badge">APK</span>
        <h2 class="section-title">ÏÉùÏÇ∞ÏÑ± ÎèÑÍµ¨</h2>
      </div>
      <div class="apk-list">
        <a href="https://nightly.link/dtslib1979/dtslib-apk-lab/workflows/build-parksy-axis/main/parksy-axis-debug.zip" class="apk-item" download>
          <span class="apk-icon">üì°</span>
          <div class="apk-content">
            <p class="apk-name">Parksy Axis</p>
            <p class="apk-desc">Î∞©ÏÜ°Ïö© Ïò§Î≤ÑÎ†àÏù¥</p>
          </div>
          <span class="apk-download">‚¨á</span>
        </a>
        <a href="https://nightly.link/dtslib1979/dtslib-apk-lab/workflows/build-laser-pen/main/laser-pen-overlay-debug.zip" class="apk-item" download>
          <span class="apk-icon">‚úèÔ∏è</span>
          <div class="apk-content">
            <p class="apk-name">Parksy Pen</p>
            <p class="apk-desc">Î†àÏù¥Ï†ÄÌéú ÌåêÏÑú</p>
          </div>
          <span class="apk-download">‚¨á</span>
        </a>
        <a href="https://nightly.link/dtslib1979/dtslib-apk-lab/workflows/build-capture-pipeline/main/capture-pipeline-debug.zip" class="apk-item" download>
          <span class="apk-icon">üì∏</span>
          <div class="apk-content">
            <p class="apk-name">Parksy Capture</p>
            <p class="apk-desc">ÌÖçÏä§Ìä∏ Ï∫°Ï≤ò</p>
          </div>
          <span class="apk-download">‚¨á</span>
        </a>
      </div>
      <p class="apk-note">* ZIP Îã§Ïö¥Î°úÎìú ‚Üí ÏïïÏ∂ï Ìï¥Ï†ú ‚Üí APK ÏÑ§Ïπò</p>
    </section>

    <!-- ÎÇ¥ Ïä§ÌÜ†Ïñ¥ (Ïú†Ï†Ä ÏÑ§Ï†ï Í∏∞Î∞ò) -->
    <section class="section">
      <div class="section-header">
        <span class="section-badge">Store</span>
        <h2 class="section-title">ÎÇ¥ Ïä§ÌÜ†Ïñ¥</h2>
      </div>
      <div class="store-links" id="storeLinks">
        <!-- ÎèôÏ†ÅÏúºÎ°ú Î†åÎçîÎßÅÎê® -->
      </div>
    </section>

    <!-- Control Panel (Accordion) -->
    <div class="accordion" id="accordionControl">
      <button class="accordion-header" onclick="toggleAccordion('accordionControl')">
        <span class="accordion-step">üéõÔ∏è</span>
        <div class="accordion-info">
          <div class="accordion-title">Control Panel</div>
          <div class="accordion-desc">Writing & Media ÎèÑÍµ¨</div>
        </div>
        <span class="accordion-toggle">‚ñº</span>
      </button>
      <div class="accordion-content">
        <div class="control-panels">
          <!-- Writing Panel -->
          <div class="control-card">
            <div class="control-card-header">
              <span class="control-icon">‚úçÔ∏è</span>
              <span class="control-label">Writing</span>
            </div>
            <div class="control-tools">
              <a href="../tools/webpage-prompt.html" class="control-btn">
                <span>üîß</span>
                <span>WebPrompt</span>
              </a>
              <button class="control-btn" onclick="openHtmlPost()">
                <span>üìÑ</span>
                <span>HTMLPost</span>
              </button>
              <a href="../tools/html-poster.html" class="control-btn">
                <span>üìÆ</span>
                <span>HTMLPoster</span>
              </a>
            </div>
          </div>

          <!-- Media Panel -->
          <div class="control-card">
            <div class="control-card-header">
              <span class="control-icon">üé¨</span>
              <span class="control-label">Media</span>
            </div>
            <div class="control-tools">
              <a href="../tools/image-manager.html" class="control-btn">
                <span>üñºÔ∏è</span>
                <span>ImageUp</span>
              </a>
              <a href="../tools/audio-manager.html" class="control-btn">
                <span>üéµ</span>
                <span>AudioUp</span>
              </a>
            </div>
          </div>
        </div>

        <!-- Articles Manager (All articles with status) -->
        <div class="draft-manager" style="margin-top: 14px;">
          <div class="draft-header">
            <span>üìö All Articles</span>
            <span class="draft-count" id="allArticleCount">0</span>
          </div>
          <div class="draft-list" id="allArticlesList">
            <!-- Dynamic articles with status -->
          </div>
        </div>
      </div>
    </div>

    <!-- Console Panel (Accordion) -->
    <div class="accordion" id="accordionConsole">
      <button class="accordion-header" onclick="toggleAccordion('accordionConsole')">
        <span class="accordion-step">üîó</span>
        <div class="accordion-info">
          <div class="accordion-title">Console Panel</div>
          <div class="accordion-desc">Ïô∏Î∂Ä ÎßÅÌÅ¨ & ÏûêÎèôÌôî ÌÉÄÍ≤ü</div>
        </div>
        <span class="accordion-toggle">‚ñº</span>
      </button>
      <div class="accordion-content">
        <!-- Links -->
        <div class="console-links">
          <a href="https://github.com/dtslib1979" target="_blank" class="console-link-item">
            <span class="console-icon">üêô</span>
            <div class="console-text">
              <div class="console-name">GitHub</div>
              <div class="console-desc">Ïò§ÌîàÏÜåÏä§ ÌîÑÎ°úÏ†ùÌä∏</div>
            </div>
            <span class="console-arrow">‚Üí</span>
          </a>
          <a href="https://youtube.com/@dtslib" target="_blank" class="console-link-item">
            <span class="console-icon">üì∫</span>
            <div class="console-text">
              <div class="console-name">YouTube</div>
              <div class="console-desc">Manual but Essential</div>
            </div>
            <span class="console-arrow">‚Üí</span>
          </a>
          <a href="https://www.tistory.com/" target="_blank" class="console-link-item">
            <span class="console-icon">üìù</span>
            <div class="console-text">
              <div class="console-name">Tistory</div>
              <div class="console-desc">HTML Î∏îÎ°úÍ∑∏</div>
            </div>
            <span class="console-arrow">‚Üí</span>
          </a>
        </div>

        <!-- Phase 2 Targets -->
        <details class="phase-accordion">
          <summary class="phase-header">
            <span class="phase-badge">PHASE 2</span>
            <span class="phase-title">GUI Automation Targets</span>
            <span class="phase-toggle">‚ñº</span>
          </summary>
          <div class="phase-content">
            <p class="phase-desc">Claude in Chrome on Desktop ‚Äî Coming Soon</p>

            <div class="platform-category">
              <div class="category-label">Essential</div>
              <div class="platform-links">
                <a href="https://www.linkedin.com/post/new/" target="_blank" class="platform-chip">LinkedIn</a>
                <a href="https://www.instagram.com/create/style/" target="_blank" class="platform-chip">Instagram</a>
                <a href="https://www.facebook.com/" target="_blank" class="platform-chip">Facebook</a>
                <a href="https://blog.naver.com/PostWriteForm.naver" target="_blank" class="platform-chip">Naver Blog</a>
              </div>
            </div>

            <div class="platform-category">
              <div class="category-label">Premium</div>
              <div class="platform-links">
                <a href="https://brunch.co.kr/write" target="_blank" class="platform-chip">Brunch</a>
                <a href="https://medium.com/new-story" target="_blank" class="platform-chip">Medium</a>
                <a href="https://x.com/compose/tweet" target="_blank" class="platform-chip">X</a>
                <a href="https://www.threads.net/" target="_blank" class="platform-chip">Threads</a>
              </div>
            </div>

            <div class="platform-category">
              <div class="category-label">Business</div>
              <div class="platform-links">
                <a href="https://www.daangn.com/business" target="_blank" class="platform-chip">Karrot Biz</a>
                <a href="https://sell.smartstore.naver.com/" target="_blank" class="platform-chip">SmartStore</a>
                <a href="https://www.notion.so/" target="_blank" class="platform-chip">Notion</a>
              </div>
            </div>
          </div>
        </details>
      </div>
    </div>

    <!-- HOTLINE HQ -->
    <section class="section section-hotline">
      <div class="section-header">
        <span class="section-badge badge-hotline">HOTLINE</span>
        <h2 class="section-title">KOOSY <span class="hq-with">with</span> HQ</h2>
      </div>
      <p class="hotline-tagline">Î≥∏ÏÇ¨ ÏßÅÌÜµ Í∏∞Î°ù Ï±ÑÎÑê ¬∑ <a href="https://dtslib.com" target="_blank" class="hq-link">dtslib.com</a></p>

      <!-- HQ Î∏åÎ¶¨Ìïë ÏïÑÏΩîÎîîÏñ∏ -->
      <div class="accordion accordion-hotline" id="accordionBriefing">
        <button class="accordion-header" onclick="toggleAccordion('accordionBriefing')">
          <span class="accordion-step">üì∫</span>
          <div class="accordion-info">
            <div class="accordion-title">HQ Î∏åÎ¶¨Ìïë</div>
            <div class="accordion-desc">Î≥∏ÏÇ¨Í∞Ä ÏßÅÏ†ë Ï†ÑÎã¨ÌïòÎäî Ïö¥ÏòÅ ÏßÄÏπ®Í≥º Ï†ÑÎûµ Î∏åÎ¶¨Ìïë</div>
          </div>
          <span class="accordion-toggle">‚ñº</span>
        </button>
        <div class="accordion-content">
          <!-- Í≥µÏßÄÏÇ¨Ìï≠ (HQÏóêÏÑú ÎèôÏ†Å Î°úÎìú) -->
          <div class="notice-board" id="noticeBoard">
            <div class="notice-header">
              <span class="notice-title">üì¢ HQ Í≥µÏßÄÏÇ¨Ìï≠</span>
            </div>
            <div class="notice-list" id="noticeList">
              <!-- HQÏóêÏÑú ÎèôÏ†Å Î°úÎìú -->
              <div style="padding:12px;color:var(--text-muted);font-size:12px;">Í≥µÏßÄÏÇ¨Ìï≠ Î°úÎî© Ï§ë...</div>
            </div>
          </div>

          <div class="briefing-grid">
            <a href="briefing.html" class="briefing-item">
              <span class="briefing-icon">üé¨</span>
              <span class="briefing-label">ÌäúÌÜ†Î¶¨Ïñº</span>
            </a>
            <a href="archive.html" class="briefing-item">
              <span class="briefing-icon">üìö</span>
              <span class="briefing-label">Ï†ÑÏ≤¥ ÏïÑÏπ¥Ïù¥Î∏å</span>
            </a>
          </div>

          <!-- HQ Branch Network -->
          <div class="branch-network">
            <div class="branch-network-header">
              <span>üåê</span>
              <span class="branch-network-title">DTSLIB Í≥ÑÏó¥ÏÇ¨ ÎÑ§Ìä∏ÏõåÌÅ¨</span>
            </div>
            <div class="branch-network-grid" id="branchNetworkGrid">
              <!-- HQÏóêÏÑú ÎèôÏ†Å Î°úÎìú -->
            </div>
          </div>
        </div>
      </div>

      <!-- HQ ÏûëÏóÖÏã§ ÏïÑÏΩîÎîîÏñ∏ -->
      <div class="accordion accordion-hotline" id="accordionWorkspace">
        <button class="accordion-header" onclick="toggleAccordion('accordionWorkspace')">
          <span class="accordion-step">üí¨</span>
          <div class="accordion-info">
            <div class="accordion-title">HQ ÏûëÏóÖÏã§</div>
            <div class="accordion-desc">ÏöîÏ≤≠ ¬∑ ÌöåÏùò ¬∑ Ï†úÏïàÏù¥ Í∏∞Î°ùÎêòÎäî Í≥µÍ∞Ñ (Ïπ¥ÌÜ° ÎåÄÏã† Ïó¨Í∏∞)</div>
          </div>
          <span class="accordion-toggle">‚ñº</span>
        </button>
        <div class="accordion-content">
          <!-- Ïπ¥ÌÜ° Ïä§ÌÉÄÏùº Ï±ÑÌåÖÎ∞© -->
          <div class="kakao-chat">
            <!-- Ï±ÑÌåÖÎ∞© Ìó§Îçî -->
            <div class="kakao-chat-header">
              <span class="kakao-room-title" id="chatRoomTitle">HQ ÏûëÏóÖÏã§</span>
              <div style="display:flex;gap:4px;">
                <button class="kakao-expand-btn" onclick="openFullscreen()" title="Ï†ÑÏ≤¥ÌôîÎ©¥">‚õ∂</button>
                <button class="kakao-refresh-btn" onclick="loadChatRoom()">‚Üª</button>
              </div>
            </div>

            <!-- Î©îÏãúÏßÄ ÏòÅÏó≠ (GitHub IssuesÏóêÏÑú Î°úÎìú) -->
            <div class="kakao-chat-messages" id="kakaoMessages">
              <div class="kakao-loading">ÎåÄÌôî Î∂àÎü¨Ïò§Îäî Ï§ë...</div>
            </div>

            <!-- ÏûÖÎ†• ÏòÅÏó≠ -->
            <div class="kakao-input-area">
              <input type="text" id="chatInput" class="kakao-input" placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." onkeypress="if(event.key==='Enter')sendMessage()">
              <button onclick="sendMessage()" class="kakao-send-btn">Ï†ÑÏÜ°</button>
              <button onclick="closeChat()" id="chatPrBtn" class="kakao-pr-btn" title="PR Î∞úÌñâ (ÎåÄÌôî ÏôÑÎ£å)">PR</button>
            </div>
          </div>
        </div>
      </div>

    </section>

    <!-- ADMIN: Setup (Í¥ÄÎ¶¨Ïûê Ï†ÑÏö©, Í∏∞Î≥∏ Ïà®ÍπÄ) -->
    <section class="section section-admin admin-only" id="sectionAdmin" style="display:none;">
      <div class="section-header">
        <span class="section-badge badge-admin">ADMIN</span>
        <h2 class="section-title">Setup Tools</h2>
      </div>

      <div class="accordion" id="accordionAdmin">
        <button class="accordion-header" onclick="toggleAccordion('accordionAdmin')">
          <span class="accordion-step">üîß</span>
          <div class="accordion-info">
            <div class="accordion-title">Ïò®Î≥¥Îî© ÎèÑÍµ¨</div>
            <div class="accordion-desc">ÏÉà Î©§Î≤Ñ ÏÑ∏ÌåÖÏö© Í¥ÄÎ¶¨Ïûê ÎèÑÍµ¨</div>
          </div>
          <span class="accordion-toggle">‚ñº</span>
        </button>
        <div class="accordion-content">

          <!-- Step 1: ÌôàÌéòÏù¥ÏßÄ Íµ¨ÏÑ±ÌïòÍ∏∞ -->
          <div class="accordion" id="adminAccordion1">
              <button class="accordion-header" onclick="toggleAccordion('adminAccordion1')">
                <span class="accordion-step">1</span>
                <div class="accordion-info">
                  <div class="accordion-title">ÌôàÌéòÏù¥ÏßÄ Íµ¨ÏÑ±ÌïòÍ∏∞</div>
                  <div class="accordion-desc">Î∏åÎûúÎìú Í∏∞Ï¥à ÏÑ∏ÌåÖ 6Îã®Í≥Ñ</div>
                </div>
                <span class="accordion-toggle">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="step-list">
                  <a href="https://www.canva.com/create/logos/" target="_blank" class="step-item">
                    <span class="step-number">1</span>
                    <div class="step-content">
                      <p class="step-name">Î°úÍ≥† ÎßåÎì§Í∏∞</p>
                      <p class="step-desc">CanvaÏóêÏÑú Î∏åÎûúÎìú Î°úÍ≥† Ï†úÏûë</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://workspace.google.com/" target="_blank" class="step-item">
                    <span class="step-number">2</span>
                    <div class="step-content">
                      <p class="step-name">ÌöåÏÇ¨ Ïù¥Î©îÏùº ÎßåÎì§Í∏∞</p>
                      <p class="step-desc">Google Workspace</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://github.com/signup" target="_blank" class="step-item">
                    <span class="step-number">3</span>
                    <div class="step-content">
                      <p class="step-name">GitHub Í≥ÑÏ†ï ÎßåÎì§Í∏∞</p>
                      <p class="step-desc">ÏΩîÎìú Ï†ÄÏû•ÏÜå & ÏõπÌò∏Ïä§ÌåÖ</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://www.youtube.com/create_channel" target="_blank" class="step-item">
                    <span class="step-number">4</span>
                    <div class="step-content">
                      <p class="step-name">YouTube Ï±ÑÎÑê ÎßåÎì§Í∏∞</p>
                      <p class="step-desc">ÏòÅÏÉÅ ÏΩòÌÖêÏ∏† Ï±ÑÎÑê</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://www.tistory.com/" target="_blank" class="step-item">
                    <span class="step-number">5</span>
                    <div class="step-content">
                      <p class="step-name">Ìã∞Ïä§ÌÜ†Î¶¨ Í∞ÄÏûÖ</p>
                      <p class="step-desc">Ïπ¥Ïπ¥Ïò§ Í≥ÑÏ†ïÏúºÎ°ú Î°úÍ∑∏Ïù∏</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://www.tistory.com/manage/newpost/" target="_blank" class="step-item">
                    <span class="step-number">6</span>
                    <div class="step-content">
                      <p class="step-name">Ìã∞Ïä§ÌÜ†Î¶¨ Í∏ÄÏì∞Í∏∞</p>
                      <p class="step-desc">HTML Î™®Îìú ÏóêÎîîÌÑ∞</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                </div>
              </div>
            </div>

          <!-- Step 2: Î†àÌè¨ÏßÄÌÜ†Î¶¨ ÎßåÎì§Í∏∞ -->
          <div class="accordion" id="adminAccordion2">
            <button class="accordion-header" onclick="toggleAccordion('adminAccordion2')">
                <span class="accordion-step">2</span>
                <div class="accordion-info">
                  <div class="accordion-title">Î†àÌè¨ÏßÄÌÜ†Î¶¨ ÎßåÎì§Í∏∞</div>
                  <div class="accordion-desc">ÌîÑÎ°úÏ†ùÌä∏Î≥Ñ Ï†ÄÏû•ÏÜå Íµ¨Ï∂ï</div>
                </div>
                <span class="accordion-toggle">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="step-list">
                  <a href="https://github.com/new" target="_blank" class="step-item">
                    <span class="step-number">1</span>
                    <div class="step-content">
                      <p class="step-name">Î©îÏù∏ Î†àÌè¨ ÎßåÎì§Í∏∞</p>
                      <p class="step-desc">username.github.io/project-name</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://github.com/new/import" target="_blank" class="step-item">
                    <span class="step-number">2</span>
                    <div class="step-content">
                      <p class="step-name">Ïù¥ ÌÖúÌîåÎ¶ø Import</p>
                      <p class="step-desc">GitHub ImportÎ°ú Î≥µÏ†ú</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://docs.github.com/en/pages" target="_blank" class="step-item">
                    <span class="step-number">3</span>
                    <div class="step-content">
                      <p class="step-name">GitHub Pages ÌôúÏÑ±Ìôî</p>
                      <p class="step-desc">Settings ‚Üí Pages ‚Üí Deploy</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://github.com/settings/tokens" target="_blank" class="step-item">
                    <span class="step-number">4</span>
                    <div class="step-content">
                      <p class="step-name">Personal Access Token</p>
                      <p class="step-desc">API Ïó∞ÎèôÏö© ÌÜ†ÌÅ∞ ÏÉùÏÑ±</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                  <a href="https://vercel.com/new" target="_blank" class="step-item">
                    <span class="step-number">5</span>
                    <div class="step-content">
                      <p class="step-name">Vercel Ïó∞Í≤∞ (ÏÑ†ÌÉù)</p>
                      <p class="step-desc">Í≥†Í∏â Î∞∞Ìè¨ & ÎåÄÏãúÎ≥¥Îìú</p>
                    </div>
                    <span class="step-arrow">‚Üí</span>
                  </a>
                </div>
              </div>
            </div>

          <!-- Step 3: Claude Code Ïù∏Ïä§Ìä∏Îü≠ÏÖò -->
          <div class="accordion" id="adminAccordion3">
            <button class="accordion-header" onclick="toggleAccordion('adminAccordion3')">
                <span class="accordion-step">3</span>
                <div class="accordion-info">
                  <div class="accordion-title">Claude Code Ïù∏Ïä§Ìä∏Îü≠ÏÖò</div>
                  <div class="accordion-desc">6Í∞ú Î†àÌè¨ ÏûêÎèô Íµ¨Ï∂ï ÌîÑÎ°¨ÌîÑÌä∏</div>
                </div>
                <span class="accordion-toggle">‚ñº</span>
              </button>
              <div class="accordion-content">
                <p class="network-desc">Î†àÌè¨ ÏÑ†ÌÉù ÌõÑ Ïù∏Ïä§Ìä∏Îü≠ÏÖòÏùÑ Î≥µÏÇ¨Ìï¥ÏÑú TermuxÏùò Claude CodeÏóê Î∂ôÏó¨ÎÑ£ÏúºÎ©¥ ÏûêÎèô Íµ¨Ï∂ïÎê©ÎãàÎã§.</p>

                <!-- Î†àÌè¨ ÏÑ†ÌÉù ÌÉ≠ -->
                <div class="instruction-tabs" id="instructionTabs">
                  <button class="inst-tab active" onclick="showInstruction('main')">üåê Î©îÏù∏</button>
                  <button class="inst-tab" onclick="showInstruction('blog')">üìù Î∏îÎ°úÍ∑∏</button>
                  <button class="inst-tab" onclick="showInstruction('logs')">üìã Î°úÍ∑∏</button>
                  <button class="inst-tab" onclick="showInstruction('pwa')">‚ö° PWA</button>
                  <button class="inst-tab" onclick="showInstruction('apk')">üì± APK</button>
                  <button class="inst-tab" onclick="showInstruction('media')">üñºÔ∏è ÎØ∏ÎîîÏñ¥</button>
                </div>

                <div class="prompt-box">
                  <div class="prompt-label" id="promptLabel">üìã Î©îÏù∏ Î†àÌè¨ Íµ¨Ï∂ï Ïù∏Ïä§Ìä∏Îü≠ÏÖò</div>
                  <button class="prompt-copy-btn" onclick="copyCurrentInstruction()">Î≥µÏÇ¨</button>
                  <div class="prompt-content" id="promptContent">## Î©îÏù∏ Î†àÌè¨ÏßÄÌÜ†Î¶¨ (branch) Íµ¨Ï∂ï

GitHub Pages Í∏∞Î∞ò ÎûúÎî©ÌéòÏù¥ÏßÄ + Staff Portal Î†àÌè¨ÏßÄÌÜ†Î¶¨Î•º Íµ¨Ï∂ïÌï¥Ï£ºÏÑ∏Ïöî.

### Íµ¨Ï°∞
```
{username}-branch/
‚îú‚îÄ‚îÄ index.html          # ÎûúÎî©ÌéòÏù¥ÏßÄ
‚îú‚îÄ‚îÄ config.json         # ÏÇ¨Ïù¥Ìä∏ ÏÑ§Ï†ï
‚îú‚îÄ‚îÄ sw.js               # Service Worker (PWA)
‚îú‚îÄ‚îÄ robots.txt          # SEO
‚îú‚îÄ‚îÄ sitemap.xml         # ÏÇ¨Ïù¥Ìä∏Îßµ
‚îú‚îÄ‚îÄ .nojekyll           # Jekyll ÎπÑÌôúÏÑ±Ìôî
‚îú‚îÄ‚îÄ CLAUDE.md           # Claude Code Í∞ÄÏù¥Îìú
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json   # PWA Îß§ÎãàÌéòÏä§Ìä∏
‚îÇ   ‚îî‚îÄ‚îÄ icons/
‚îÇ       ‚îî‚îÄ‚îÄ logo.png    # Ïï± ÏïÑÏù¥ÏΩò
‚îú‚îÄ‚îÄ staff/
‚îÇ   ‚îî‚îÄ‚îÄ index.html      # Staff Portal (ÎπÑÎ∞ÄÎ≤àÌò∏: 1126)
‚îî‚îÄ‚îÄ tools/
    ‚îú‚îÄ‚îÄ html-poster.html    # HTML Ìè¨Ïä§ÌåÖ ÎèÑÍµ¨
    ‚îî‚îÄ‚îÄ webpage-prompt.html # ÏõπÌéòÏù¥ÏßÄ ÌîÑÎ°¨ÌîÑÌä∏ ÏÉùÏÑ±Í∏∞
```

### ÎîîÏûêÏù∏ ÏãúÏä§ÌÖú
- Îã§ÌÅ¨ ÌÖåÎßà: Î∞∞Í≤Ω #0a0f0c, Í≥®Îìú #f0c850
- Î™®Î∞îÏùº ÌçºÏä§Ìä∏ (max-width: 500px)
- PWA ÏßÄÏõê (Ïò§ÌîÑÎùºÏù∏ Ï∫êÏã±)

### ÌïÑÏàò Í∏∞Îä•
1. ÎûúÎî©ÌéòÏù¥ÏßÄ: Î™ÖÌï® Ïπ¥Îìú, GitHub Pages Ìå®ÎÑê, ÎßÅÌÅ¨Ìä∏Î¶¨
2. Staff Portal: ÎπÑÎ∞ÄÎ≤àÌò∏ Í≤åÏù¥Ìä∏, Î†àÌè¨ ÎÑ§Ìä∏ÏõåÌÅ¨ ÎåÄÏãúÎ≥¥Îìú
3. HTML Ìè¨Ïä§ÌÑ∞: GitHub APIÎ°ú Î∏îÎ°úÍ∑∏ Î†àÌè¨Ïóê HTML Î∞∞Ìè¨

### GitHub Pages ÏÑ§Ï†ï
- Settings ‚Üí Pages ‚Üí Deploy from main branch
- .nojekyll ÌååÏùºÎ°ú Jekyll ÎπÑÌôúÏÑ±Ìôî

Ïù¥ Íµ¨Ï°∞Î°ú Î†àÌè¨ÏßÄÌÜ†Î¶¨Î•º ÏÉùÏÑ±ÌïòÍ≥† Ïª§Î∞ãÌï¥Ï£ºÏÑ∏Ïöî.</div>
                </div>
              </div>
            </div>

        </div>
      </div>
    </section>

    <!-- SYSTEM: Exit & Transfer -->
    <section class="section section-exit">
      <div class="section-header">
        <span class="section-badge badge-system">SYSTEM</span>
        <h2 class="section-title">Exit & Transfer</h2>
      </div>

      <!-- ÎèÖÎ¶ΩÍ≥º ÏñëÎèÑ Î©îÏù∏ ÏïÑÏΩîÎîîÏñ∏ -->
      <div class="accordion accordion-exit" id="accordionExit">
        <button class="accordion-header" onclick="toggleAccordion('accordionExit')">
          <span class="accordion-step">üö™</span>
          <div class="accordion-info">
            <div class="accordion-title">ÎèÖÎ¶ΩÍ≥º ÏñëÎèÑ</div>
            <div class="accordion-desc">Ïù¥ ÏãúÏä§ÌÖúÏóêÏÑú ÎÇòÍ∞ÄÍ≥† Ïã∂ÏùÑ Îïå, ÎãπÏã†Ïùò Í≥ºÍ±∞Î•º Í∞ÄÏ†∏Í∞à Ïàò ÏûàÎäî ÏÑ†ÌÉùÏßÄÏûÖÎãàÎã§.</div>
          </div>
          <span class="accordion-toggle">‚ñº</span>
        </button>
        <div class="accordion-content">

          <div class="exit-content">
            <p>Ïù¥ Í≥µÍ∞ÑÏùÄ ÎãπÏã†ÏùÑ Î∂ôÏû°Í∏∞ ÏúÑÌï¥ Ï°¥Ïû¨ÌïòÏßÄ ÏïäÏäµÎãàÎã§.</p>
            <p>Ïù¥ ÏãúÏä§ÌÖúÏùÄ<br>
            ÎãπÏã†ÏùÑ <span class="highlight">'Î¨∂Îäî'</span> Íµ¨Ï°∞Í∞Ä ÏïÑÎãàÎùº<br>
            ÎãπÏã†Ïù¥ Îñ†ÎÇòÎèÑ Î¨¥ÎÑàÏßÄÏßÄ ÏïäÎäî Íµ¨Ï°∞ÏûÖÎãàÎã§.</p>
            <p>Ïñ∏Ï††Í∞Ä ÌòºÏûê Í∞ÄÍ≥† Ïã∂Ïñ¥Ïßà Îïå,<br>
            ÎãπÏã†ÏùÄ ÏßÄÍ∏àÍπåÏßÄÏùò Î™®Îì† Í∏∞Î°ùÍ≥º ÏãúÏä§ÌÖúÏùÑ<br>
            <span class="highlight">'Íµ¨Îß§'</span>ÌïòÏó¨ ÎèÖÎ¶ΩÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
            <p>Í∑∏ ÎπÑÏö©ÏùÄ,<br>
            <span class="highlight">dtslib.com</span>Ïù¥ ÎßåÎì§Ïñ¥ Ï§Ä ÌååÏù¥ÌîÑÎùºÏù∏Ïùò<br>
            <span class="highlight">ÎàÑÏ†Å ÏàòÏùµ Í∏∞Ï§Ä 30%</span>ÏûÖÎãàÎã§.</p>
            <p>Í∑∏ ÏàúÍ∞ÑÎ∂ÄÌÑ∞,<br>
            Ïù¥ ÏãúÏä§ÌÖúÏùÄ ÎãπÏã†Ïùò Í≤ÉÏù¥ Îê©ÎãàÎã§.<br>
            Í∑∏Î¶¨Í≥† ÎÇòÎäî, Îã§Ïùå Î≤ÑÏ†ÑÏùÑ ÎßåÎì≠ÎãàÎã§.</p>
          </div>

          <!-- ÌòÑÏû¨ ÏÉÅÌÉú -->
          <div class="accordion" id="exitAccordion1">
            <button class="accordion-header" onclick="toggleAccordion('exitAccordion1')">
              <span class="accordion-step">üìä</span>
              <div class="accordion-info">
                <div class="accordion-title">ÌòÑÏû¨ ÏÉÅÌÉú</div>
                <div class="accordion-desc">Î†àÌè¨ÏßÄÌÜ†Î¶¨ Ïó∞Îèô ÌôïÏù∏</div>
              </div>
                <span class="accordion-toggle">‚ñº</span>
              </button>
              <div class="accordion-content">
                <!-- Repo Setup Form -->
                <div class="repo-input-group">
                  <div class="repo-input-row">
                    <span class="repo-input-label">GitHub</span>
                    <input type="text" class="repo-input" id="inputGithubId" placeholder="username" />
                    <span class="repo-input-status" id="statusGithub">üîí</span>
                  </div>
                  <div class="repo-input-row">
                    <span class="repo-input-label">Î©îÏù∏</span>
                    <input type="text" class="repo-input" id="inputMainRepo" placeholder="my-branch" />
                    <span class="repo-input-status" id="statusMain">üîí</span>
                  </div>
                  <div class="repo-input-row">
                    <span class="repo-input-label">Î∏îÎ°úÍ∑∏</span>
                    <input type="text" class="repo-input" id="inputBlogRepo" placeholder="my-posts" />
                    <span class="repo-input-status" id="statusBlog">üîí</span>
                  </div>
                  <div class="repo-input-row">
                    <span class="repo-input-label">Î°úÍ∑∏</span>
                    <input type="text" class="repo-input" id="inputLogsRepo" placeholder="my-logs" />
                    <span class="repo-input-status" id="statusLogs">üîí</span>
                  </div>
                  <div class="repo-input-row">
                    <span class="repo-input-label">PWA</span>
                    <input type="text" class="repo-input" id="inputPwaRepo" placeholder="my-pwa" />
                    <span class="repo-input-status" id="statusPwa">üîí</span>
                  </div>
                  <div class="repo-input-row">
                    <span class="repo-input-label">APK</span>
                    <input type="text" class="repo-input" id="inputApkRepo" placeholder="my-apk-lab" />
                    <span class="repo-input-status" id="statusApk">üîí</span>
                  </div>
                  <div class="repo-input-row">
                    <span class="repo-input-label">ÎØ∏ÎîîÏñ¥</span>
                    <input type="text" class="repo-input" id="inputMediaRepo" placeholder="my-media" />
                    <span class="repo-input-status" id="statusMedia">üîí</span>
                  </div>
                  <div class="repo-input-row">
                    <span class="repo-input-label">PAT</span>
                    <input type="password" class="repo-input" id="inputPat" placeholder="ghp_xxxx" />
                    <span class="repo-input-status" id="statusPat">üîí</span>
                  </div>
                </div>
                <div style="display:flex;gap:8px;margin-bottom:14px;">
                  <button class="repo-save-btn" onclick="saveRepoConfig()" style="flex:1;">üíæ Ï†ÄÏû•</button>
                  <button class="repo-save-btn" onclick="checkRepoConnections()" style="flex:1;background:var(--info);">üîç Ï≤¥ÌÅ¨</button>
                </div>

                <!-- Dynamic Repo Grid -->
                <div class="repo-grid" id="repoGrid"></div>
              </div>
            </div>

          <!-- ÎèÖÎ¶Ω Í∞úÎ∞ú Í∞ÄÏù¥Îìú -->
          <div class="accordion" id="exitAccordion2">
            <button class="accordion-header" onclick="toggleAccordion('exitAccordion2')">
              <span class="accordion-step">üõ†Ô∏è</span>
              <div class="accordion-info">
                <div class="accordion-title">ÎèÖÎ¶Ω Í∞úÎ∞ú Í∞ÄÏù¥Îìú</div>
                <div class="accordion-desc">Claude CodeÎ°ú PWA/APK ÏßÅÏ†ë Í∞úÎ∞úÌïòÍ∏∞</div>
              </div>
              <span class="accordion-toggle">‚ñº</span>
            </button>
            <div class="accordion-content">
              <p class="network-desc">ÎèÖÎ¶Ω ÌõÑ ÏßÅÏ†ë Ïï±ÏùÑ Í∞úÎ∞úÌïòÍ≥† Ïã∂Îã§Î©¥, Claude CodeÎ•º ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.</p>

              <!-- Termux ÏÑ§Ïπò -->
              <div class="accordion" id="exitAccordion2a">
                <button class="accordion-header" onclick="toggleAccordion('exitAccordion2a')">
                  <span class="accordion-step">1</span>
                  <div class="accordion-info">
                    <div class="accordion-title">Termux + Claude Code ÏÑ§Ïπò</div>
                    <div class="accordion-desc">ÏïàÎìúÎ°úÏù¥ÎìúÏóêÏÑú Í∞úÎ∞ú ÌôòÍ≤Ω Íµ¨Ï∂ï</div>
                  </div>
                  <span class="accordion-toggle">‚ñº</span>
                </button>
                <div class="accordion-content">
                  <div class="step-list">
                    <a href="https://f-droid.org/packages/com.termux/" target="_blank" class="step-item">
                      <span class="step-number">1</span>
                      <div class="step-content">
                        <p class="step-name">Termux ÏÑ§Ïπò</p>
                        <p class="step-desc">F-DroidÏóêÏÑú Îã§Ïö¥Î°úÎìú</p>
                      </div>
                      <span class="step-arrow">‚Üí</span>
                    </a>
                    <div class="step-item" onclick="copyToClipboard('pkg install nodejs-lts git -y')">
                      <span class="step-number">2</span>
                      <div class="step-content">
                        <p class="step-name">Node.js & Git ÏÑ§Ïπò</p>
                        <p class="step-desc">pkg install nodejs-lts git -y</p>
                      </div>
                      <span class="step-arrow">üìã</span>
                    </div>
                    <div class="step-item" onclick="copyToClipboard('npm install -g @anthropic-ai/claude-code')">
                      <span class="step-number">3</span>
                      <div class="step-content">
                        <p class="step-name">Claude Code ÏÑ§Ïπò</p>
                        <p class="step-desc">npm install -g @anthropic-ai/claude-code</p>
                      </div>
                      <span class="step-arrow">üìã</span>
                    </div>
                    <a href="https://console.anthropic.com/" target="_blank" class="step-item">
                      <span class="step-number">4</span>
                      <div class="step-content">
                        <p class="step-name">Anthropic API Key</p>
                        <p class="step-desc">API ÌÇ§ Î∞úÍ∏âÎ∞õÍ∏∞</p>
                      </div>
                      <span class="step-arrow">‚Üí</span>
                    </a>
                    <div class="step-item" onclick="copyToClipboard('export ANTHROPIC_API_KEY=sk-ant-xxx')">
                      <span class="step-number">5</span>
                      <div class="step-content">
                        <p class="step-name">ÌôòÍ≤ΩÎ≥ÄÏàò ÏÑ§Ï†ï</p>
                        <p class="step-desc">export ANTHROPIC_API_KEY=sk-ant-xxx</p>
                      </div>
                      <span class="step-arrow">üìã</span>
                    </div>
                    <div class="step-item" onclick="copyToClipboard('claude')">
                      <span class="step-number">6</span>
                      <div class="step-content">
                        <p class="step-name">Claude Code Ïã§Ìñâ</p>
                        <p class="step-desc">claude Î™ÖÎ†πÏñ¥Î°ú ÏãúÏûë</p>
                      </div>
                      <span class="step-arrow">üìã</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- PWA Í∞úÎ∞ú -->
              <div class="accordion" id="exitAccordion2b">
                <button class="accordion-header" onclick="toggleAccordion('exitAccordion2b')">
                  <span class="accordion-step">2</span>
                  <div class="accordion-info">
                    <div class="accordion-title">PWA Ïï± Í∞úÎ∞ú</div>
                    <div class="accordion-desc">ÌîÑÎ°¨ÌîÑÌä∏ Ìïú Ï§ÑÎ°ú ÏõπÏï± ÏÉùÏÑ±</div>
                  </div>
                  <span class="accordion-toggle">‚ñº</span>
                </button>
                <div class="accordion-content">
                  <div class="prompt-box">
                    <div class="prompt-label">üìã PWA ÏÉùÏÑ± ÌîÑÎ°¨ÌîÑÌä∏</div>
                    <button class="prompt-copy-btn" onclick="copyToClipboard(document.getElementById('pwaPrompt').textContent)">Î≥µÏÇ¨</button>
                    <div class="prompt-content" id="pwaPrompt">Ïù¥ Î†àÌè¨Ïóê PWA Ïï±ÏùÑ ÎßåÎì§Ïñ¥Ï§ò.
- manifest.json, sw.js Ìè¨Ìï®
- Ïò§ÌîÑÎùºÏù∏ Ï∫êÏã± ÏßÄÏõê
- Îã§ÌÅ¨ÌÖåÎßà (#0a0f0c Î∞∞Í≤Ω, #f0c850 Í≥®Îìú)
- Î™®Î∞îÏùº ÌçºÏä§Ìä∏ Î∞òÏùëÌòï
- Ìôà ÌôîÎ©¥ Ï∂îÍ∞Ä Í∞ÄÎä•ÌïòÍ≤å</div>
                  </div>
                </div>
              </div>

              <!-- APK ÎπåÎìú -->
              <div class="accordion" id="exitAccordion2c">
                <button class="accordion-header" onclick="toggleAccordion('exitAccordion2c')">
                  <span class="accordion-step">3</span>
                  <div class="accordion-info">
                    <div class="accordion-title">APK ÎπåÎìú</div>
                    <div class="accordion-desc">GitHub ActionsÎ°ú ÏûêÎèô ÎπåÎìú</div>
                  </div>
                  <span class="accordion-toggle">‚ñº</span>
                </button>
                <div class="accordion-content">
                  <div class="prompt-box">
                    <div class="prompt-label">üìã APK ÎπåÎìú ÏÑ§Ï†ï ÌîÑÎ°¨ÌîÑÌä∏</div>
                    <button class="prompt-copy-btn" onclick="copyToClipboard(document.getElementById('apkPrompt').textContent)">Î≥µÏÇ¨</button>
                    <div class="prompt-content" id="apkPrompt">GitHub ActionsÎ°ú Android APK ÎπåÎìú ÏõåÌÅ¨ÌîåÎ°úÏö∞Î•º ÎßåÎì§Ïñ¥Ï§ò.
- .github/workflows/build.yml ÏÉùÏÑ±
- Gradle ÎπåÎìú
- APK ÏïÑÌã∞Ìå©Ìä∏ ÏóÖÎ°úÎìú
- nightly.linkÎ°ú Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨ ÏÉùÏÑ±</div>
                  </div>
                </div>
              </div>

            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Footer - Galaxy Express 999 -->
    <nav class="galaxy-express">
      <!-- Î≥Ñ Î∞∞Í≤Ω -->
      <div class="galaxy-stars">
        <span class="galaxy-star" style="top:15%;left:10%;animation-delay:0s"></span>
        <span class="galaxy-star" style="top:60%;left:25%;animation-delay:0.5s"></span>
        <span class="galaxy-star" style="top:20%;left:50%;animation-delay:1s"></span>
        <span class="galaxy-star" style="top:70%;left:70%;animation-delay:1.5s"></span>
        <span class="galaxy-star" style="top:30%;left:85%;animation-delay:0.7s"></span>
        <span class="galaxy-star" style="top:80%;left:40%;animation-delay:1.2s"></span>
      </div>

      <!-- ÏàúÌôòÏÑ† + Í∏∞Ï∞® -->
      <div class="orbit-container">
        <!-- Î∂ÑÍ∏∞ ÎùºÏù∏ -->
        <div class="branch-line left"></div>
        <div class="branch-line right"></div>

        <!-- ÏàúÌôò Ìä∏Îûô -->
        <div class="orbit-track"></div>

        <!-- Í∏∞Ï∞® (ÌÉÄÏõê Í∂§ÎèÑ ÏàúÌôò) -->
        <div class="train-group">
          <div class="smoke">
            <span class="smoke-particle"></span>
            <span class="smoke-particle"></span>
            <span class="smoke-particle"></span>
          </div>
          <span class="train">üöÇ</span>
          <span class="train-number">999</span>
        </div>

        <!-- Î∂ÑÍ∏∞Ïó≠Îì§ -->
        <div class="branch-stations">
          <a href="../" class="branch-station">
            <span class="branch-node">üè†</span>
            <span class="branch-label">Home</span>
          </a>
          <button class="branch-station exit" id="logoutBtn">
            <span class="branch-node">üö™</span>
            <span class="branch-label">Exit</span>
          </button>
        </div>
      </div>

      <p class="express-label">Galaxy Express KOOSY</p>
    </nav>
  </div>

  <a href="../" class="back-link" id="backLink">‚Üê Î©îÏù∏ÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞</a>
</div>

<div class="copy-toast" id="copyToast">Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§</div>

<script>
const ACCESS_CODE = '1126';
const ADMIN_CODE = '1126admin';
const STORAGE_KEY = 'koosy_staff_auth';
const ADMIN_STORAGE_KEY = 'koosy_staff_admin';

const loginGate = document.getElementById('loginGate');
const portal = document.getElementById('portal');
const passwordInput = document.getElementById('passwordInput');
const loginBtn = document.getElementById('loginBtn');
const loginError = document.getElementById('loginError');
const logoutBtn = document.getElementById('logoutBtn');
const backLink = document.getElementById('backLink');
const sectionAdmin = document.getElementById('sectionAdmin');

// ÏÑ∏ÏÖò Î≥µÏõê
if (sessionStorage.getItem(STORAGE_KEY) === 'true') {
  const isAdmin = sessionStorage.getItem(ADMIN_STORAGE_KEY) === 'true';
  showPortal(isAdmin);
}

function showPortal(isAdmin = false) {
  loginGate.style.display = 'none';
  portal.classList.add('active');
  backLink.style.display = 'none';

  // Admin Î™®ÎìúÎ©¥ ADMIN ÏÑπÏÖò ÌëúÏãú
  if (isAdmin && sectionAdmin) {
    sectionAdmin.style.display = 'block';
  }
}

function hidePortal() {
  loginGate.style.display = 'flex';
  portal.classList.remove('active');
  backLink.style.display = 'block';
  passwordInput.value = '';
  loginError.classList.remove('show');

  // ADMIN ÏÑπÏÖò Ïà®ÍπÄ
  if (sectionAdmin) {
    sectionAdmin.style.display = 'none';
  }
}

function attemptLogin() {
  const input = passwordInput.value;

  if (input === ADMIN_CODE) {
    // Admin Î°úÍ∑∏Ïù∏
    sessionStorage.setItem(STORAGE_KEY, 'true');
    sessionStorage.setItem(ADMIN_STORAGE_KEY, 'true');
    showPortal(true);
  } else if (input === ACCESS_CODE) {
    // ÏùºÎ∞ò Î°úÍ∑∏Ïù∏
    sessionStorage.setItem(STORAGE_KEY, 'true');
    sessionStorage.removeItem(ADMIN_STORAGE_KEY);
    showPortal(false);
  } else {
    loginError.classList.add('show');
    passwordInput.value = '';
    passwordInput.focus();
  }
}

loginBtn.addEventListener('click', attemptLogin);
passwordInput.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') attemptLogin();
  loginError.classList.remove('show');
});

logoutBtn.addEventListener('click', () => {
  sessionStorage.removeItem(STORAGE_KEY);
  hidePortal();
});

// Accordion
function toggleAccordion(id) {
  const accordion = document.getElementById(id);
  accordion.classList.toggle('open');
}

// Copy Prompt
function copyPrompt() {
  const content = document.getElementById('promptContent').textContent;
  showToast();
  navigator.clipboard.writeText(content).catch(() => {
    const textarea = document.createElement('textarea');
    textarea.value = content;
    textarea.style.position = 'fixed';
    textarea.style.opacity = '0';
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
  });
}

function showToast(msg = 'Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§') {
  const toast = document.getElementById('copyToast');
  toast.textContent = msg;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 2000);
}

function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(() => {
    showToast('Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§');
  }).catch(() => {
    // Fallback for older browsers
    const textarea = document.createElement('textarea');
    textarea.value = text;
    textarea.style.position = 'fixed';
    textarea.style.opacity = '0';
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
    showToast('Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§');
  });
}

// =====================
// GitHub Chat Room
// =====================
const CHAT_GITHUB_OWNER = 'dtslib1979';
const CHAT_GITHUB_REPO = 'koosy';
let currentIssueNumber = null;

// PAT Í∞ÄÏ†∏Ïò§Í∏∞ (Repository Network ÏÑ§Ï†ïÏóêÏÑú)
function getChatPat() {
  const saved = localStorage.getItem('koosy_repo_config');
  if (saved) {
    const config = JSON.parse(saved);
    return config.pat || null;
  }
  return null;
}

async function loadChatRoom() {
  const container = document.getElementById('kakaoMessages');
  const titleEl = document.getElementById('chatRoomTitle');
  const prBtn = document.getElementById('chatPrBtn');

  if (!container) return;

  container.innerHTML = '<div class="kakao-loading">ÎåÄÌôî Î∂àÎü¨Ïò§Îäî Ï§ë...</div>';

  try {
    // Í∞ÄÏû• ÏµúÍ∑º Open Issue Í∞ÄÏ†∏Ïò§Í∏∞
    const issuesRes = await fetch(
      `https://api.github.com/repos/${CHAT_GITHUB_OWNER}/${CHAT_GITHUB_REPO}/issues?state=open&per_page=1&sort=updated`
    );

    if (!issuesRes.ok) throw new Error('Failed to fetch issues');

    const issues = await issuesRes.json();

    if (issues.length === 0) {
      // ÎåÄÌôî ÏóÜÏúºÎ©¥ ÏÉà ÎåÄÌôî ÏïàÎÇ¥
      currentIssueNumber = null;
      container.innerHTML = `
        <div class="kakao-empty">
          <div class="kakao-empty-icon">üí¨</div>
          <div class="kakao-empty-text">ÏÉà ÎåÄÌôîÎ•º ÏãúÏûëÌïòÏÑ∏Ïöî</div>
        </div>
      `;
      titleEl.textContent = 'HQ ÏûëÏóÖÏã§';
      prBtn.style.display = 'none';
      return;
    }

    const issue = issues[0];
    currentIssueNumber = issue.number;

    // Ìó§Îçî: HQ ÏûëÏóÖÏã§ #Î≤àÌò∏
    titleEl.textContent = `HQ ÏûëÏóÖÏã§ #${issue.number}`;

    // PR Î≤ÑÌäº ÌëúÏãú
    prBtn.style.display = 'flex';

    // Ìï¥Îãπ IssueÏùò Comments Í∞ÄÏ†∏Ïò§Í∏∞
    const commentsRes = await fetch(
      `https://api.github.com/repos/${CHAT_GITHUB_OWNER}/${CHAT_GITHUB_REPO}/issues/${issue.number}/comments`
    );

    const comments = commentsRes.ok ? await commentsRes.json() : [];

    // Î©îÏãúÏßÄ Î†åÎçîÎßÅ (Issue body + Comments)
    let html = '';

    // Issue Î≥∏Î¨∏ = Ï≤´ Î©îÏãúÏßÄ
    const issueDate = new Date(issue.created_at);
    html += `<div class="chat-date-divider">${issueDate.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric' })}</div>`;
    html += renderBubble(issue.user.login, issue.body || '(ÎÇ¥Ïö© ÏóÜÏùå)', issue.created_at);

    // Comments = Ïù¥Ïñ¥ÏßÄÎäî Î©îÏãúÏßÄ
    let lastDate = issueDate.toDateString();
    comments.forEach(comment => {
      const commentDate = new Date(comment.created_at);
      if (commentDate.toDateString() !== lastDate) {
        html += `<div class="chat-date-divider">${commentDate.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric' })}</div>`;
        lastDate = commentDate.toDateString();
      }
      html += renderBubble(comment.user.login, comment.body, comment.created_at);
    });

    container.innerHTML = html;
    container.scrollTop = container.scrollHeight;

  } catch (error) {
    container.innerHTML = `
      <div class="kakao-empty">
        <div class="kakao-empty-icon">‚ö†Ô∏è</div>
        <div class="kakao-empty-text">Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®<br>ÏÉàÎ°úÍ≥†Ïπ® Ìï¥Ï£ºÏÑ∏Ïöî</div>
      </div>
    `;
  }
}

const BUBBLE_MAX_LENGTH = 300; // ÎçîÎ≥¥Í∏∞ Í∏∞Ï§Ä Í∏ÄÏûêÏàò
let bubbleIdCounter = 0;
const bubbleDataStore = {}; // ÏõêÎ≥∏ ÌÖçÏä§Ìä∏ Ï†ÄÏû•

function renderBubble(user, text, createdAt) {
  const isHQ = user === CHAT_GITHUB_OWNER;
  const dateObj = new Date(createdAt);
  const time = dateObj.toLocaleTimeString('ko-KR', { hour: 'numeric', minute: '2-digit' });
  const sender = isHQ ? 'HQ' : 'Partner';
  const side = isHQ ? 'hq' : 'partner';

  // Í∞ÑÎã®Ìïú ÎßàÌÅ¨Îã§Ïö¥ Ï≤òÎ¶¨ (Ï§ÑÎ∞îÍøà)
  const safeText = text.replace(/</g, '&lt;').replace(/>/g, '&gt;');
  const isLong = safeText.length > BUBBLE_MAX_LENGTH;
  const bubbleId = `bubble-${bubbleIdCounter++}`;

  // ÏõêÎ≥∏ Ï†ÄÏû• (Îã§Ïö¥Î°úÎìúÏö©)
  bubbleDataStore[bubbleId] = {
    text: text,
    sender: sender,
    user: user,
    date: dateObj.toISOString()
  };

  let textHtml;
  if (isLong) {
    const truncated = safeText.substring(0, BUBBLE_MAX_LENGTH) + '...';
    textHtml = `
      <span class="kakao-text">
        <span id="${bubbleId}-short">${truncated}</span>
        <span id="${bubbleId}-full" style="display:none;">${safeText}</span>
        <div class="kakao-bubble-actions">
          <button class="kakao-see-more" onclick="toggleBubble('${bubbleId}')" id="${bubbleId}-btn">ÎçîÎ≥¥Í∏∞</button>
          <button class="kakao-download-btn" onclick="downloadBubble('${bubbleId}')" title="ÎßàÌÅ¨Îã§Ïö¥ Ï†ÄÏû•">‚¨á</button>
          <button class="kakao-copy-btn" onclick="copyBubble('${bubbleId}')" title="Î≥µÏÇ¨">üìã</button>
        </div>
      </span>
    `;
  } else {
    textHtml = `<span class="kakao-text">${safeText}</span>`;
  }

  if (isHQ) {
    return `
      <div class="kakao-bubble-wrap ${side}">
        <div class="kakao-bubble">
          <span class="kakao-sender">${sender}</span>
          ${textHtml}
        </div>
        <span class="kakao-time">${time}</span>
      </div>
    `;
  } else {
    return `
      <div class="kakao-bubble-wrap ${side}">
        <span class="kakao-time">${time}</span>
        <div class="kakao-bubble">
          <span class="kakao-sender">${sender}</span>
          ${textHtml}
        </div>
      </div>
    `;
  }
}

function toggleBubble(id) {
  const short = document.getElementById(`${id}-short`);
  const full = document.getElementById(`${id}-full`);
  const btn = document.getElementById(`${id}-btn`);

  if (full.style.display === 'none') {
    short.style.display = 'none';
    full.style.display = 'inline';
    btn.textContent = 'Ï†ëÍ∏∞';
  } else {
    short.style.display = 'inline';
    full.style.display = 'none';
    btn.textContent = 'ÎçîÎ≥¥Í∏∞';
  }
}

// ÎßàÌÅ¨Îã§Ïö¥ÏúºÎ°ú Îã§Ïö¥Î°úÎìú
function downloadBubble(id) {
  const data = bubbleDataStore[id];
  if (!data) return;

  const date = new Date(data.date);
  const dateStr = date.toLocaleDateString('ko-KR', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/\. /g, '-').replace('.', '');
  const timeStr = date.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' }).replace(':', '');

  // ÎßàÌÅ¨Îã§Ïö¥ ÌòïÏãù
  const markdown = `# HQ ÏûëÏóÖÏã§ Î©îÏãúÏßÄ

**Î≥¥ÎÇ∏ ÏÇ¨Îûå:** ${data.sender} (${data.user})
**ÎÇ†Ïßú:** ${date.toLocaleString('ko-KR')}

---

${data.text}

---
*Exported from KOOSY Staff Portal*
`;

  // Îã§Ïö¥Î°úÎìú
  const blob = new Blob([markdown], { type: 'text/markdown;charset=utf-8' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `message-${dateStr}-${timeStr}.md`;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);

  showToast('ÎßàÌÅ¨Îã§Ïö¥ Ï†ÄÏû•Îê®');
}

// ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨
function copyBubble(id) {
  const data = bubbleDataStore[id];
  if (!data) return;

  navigator.clipboard.writeText(data.text).then(() => {
    showToast('Î≥µÏÇ¨Îê®');
  }).catch(() => {
    // Ìè¥Î∞±
    const textarea = document.createElement('textarea');
    textarea.value = data.text;
    textarea.style.position = 'fixed';
    textarea.style.opacity = '0';
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
    showToast('Î≥µÏÇ¨Îê®');
  });
}

// Ï†ÑÏ≤¥ÌôîÎ©¥ Ïó¥Í∏∞
function openFullscreen() {
  const overlay = document.getElementById('chatFullscreen');
  const messages = document.getElementById('kakaoMessages');
  const fullscreenMessages = document.getElementById('fullscreenMessages');
  const title = document.getElementById('chatRoomTitle').textContent;

  // Ï†úÎ™© Î≥µÏÇ¨
  document.getElementById('fullscreenTitle').textContent = title;

  // Î©îÏãúÏßÄ Î≥µÏÇ¨
  fullscreenMessages.innerHTML = messages.innerHTML;

  // Ïò§Î≤ÑÎ†àÏù¥ ÌëúÏãú
  overlay.classList.add('active');
  document.body.style.overflow = 'hidden';

  // Ïä§ÌÅ¨Î°§ Îß® ÏïÑÎûòÎ°ú
  fullscreenMessages.scrollTop = fullscreenMessages.scrollHeight;
}

// Ï†ÑÏ≤¥ÌôîÎ©¥ Îã´Í∏∞
function closeFullscreen() {
  const overlay = document.getElementById('chatFullscreen');
  overlay.classList.remove('active');
  document.body.style.overflow = '';

  // Î©îÏù∏ Ï±ÑÌåÖ ÏÉàÎ°úÍ≥†Ïπ®
  loadChatRoom();
}

// Ï†ÑÏ≤¥ÌôîÎ©¥ÏóêÏÑú Î©îÏãúÏßÄ Ï†ÑÏÜ°
async function sendMessageFullscreen() {
  const input = document.getElementById('fullscreenInput');
  const message = input.value.trim();

  if (!message) return;

  const pat = getChatPat();
  if (!pat) {
    showToast('ÏÑ§Ï†ïÏóêÏÑú PATÎ•º Î®ºÏ†Ä ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî');
    return;
  }

  const owner = CHAT_GITHUB_OWNER;
  const repo = CHAT_GITHUB_REPO;

  try {
    if (currentIssueNumber) {
      const res = await fetch(
        `https://api.github.com/repos/${owner}/${repo}/issues/${currentIssueNumber}/comments`,
        {
          method: 'POST',
          headers: {
            'Authorization': `token ${pat}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ body: message })
        }
      );
      if (!res.ok) throw new Error('Ï†ÑÏÜ° Ïã§Ìå®');
    } else {
      const res = await fetch(
        `https://api.github.com/repos/${owner}/${repo}/issues`,
        {
          method: 'POST',
          headers: {
            'Authorization': `token ${pat}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            title: `[ÏûëÏóÖÏã§] ${message.substring(0, 50)}`,
            body: message
          })
        }
      );
      if (!res.ok) throw new Error('Ï†ÑÏÜ° Ïã§Ìå®');
    }

    input.value = '';
    // Î©îÏãúÏßÄ ÏòÅÏó≠ ÏÉàÎ°úÍ≥†Ïπ®
    await loadChatRoom();
    const fullscreenMessages = document.getElementById('fullscreenMessages');
    fullscreenMessages.innerHTML = document.getElementById('kakaoMessages').innerHTML;
    fullscreenMessages.scrollTop = fullscreenMessages.scrollHeight;

  } catch (error) {
    showToast('Ï†ÑÏÜ° Ïã§Ìå® - ÏÑ§Ï†ïÏóêÏÑú PAT ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî');
  }
}

// Ï†ÑÏ≤¥ÌôîÎ©¥ÏóêÏÑú PR (Ï±ÑÌåÖ Ï¢ÖÎ£å)
async function closeChatFullscreen() {
  if (!currentIssueNumber) {
    showToast('Îã´ÏùÑ ÎåÄÌôîÍ∞Ä ÏóÜÏäµÎãàÎã§');
    return;
  }

  const pat = getChatPat();
  if (!pat) {
    showToast('ÏÑ§Ï†ïÏóêÏÑú PATÎ•º Î®ºÏ†Ä ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî');
    return;
  }

  if (!confirm('Ïù¥ ÎåÄÌôîÎ•º ÏôÑÎ£åÌïòÍ≥† ÏïÑÏπ¥Ïù¥Î∏åÎ°ú Î≥¥ÎÇ¥ÏãúÍ≤†ÏäµÎãàÍπå?')) {
    return;
  }

  const owner = CHAT_GITHUB_OWNER;
  const repo = CHAT_GITHUB_REPO;

  try {
    const res = await fetch(
      `https://api.github.com/repos/${owner}/${repo}/issues/${currentIssueNumber}`,
      {
        method: 'PATCH',
        headers: {
          'Authorization': `token ${pat}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ state: 'closed' })
      }
    );

    if (!res.ok) throw new Error('Ïã§Ìå®');

    showToast('PR ÏôÑÎ£å!');
    closeFullscreen();

  } catch (error) {
    showToast('PR Ïã§Ìå® - ÏÑ§Ï†ïÏóêÏÑú PAT ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî');
  }
}

// Î©îÏãúÏßÄ Ï†ÑÏÜ° - GitHub APIÎ°ú Î∞îÎ°ú Ï†ÑÏÜ°
async function sendMessage() {
  const input = document.getElementById('chatInput');
  const message = input.value.trim();

  if (!message) return;

  const pat = getChatPat();
  if (!pat) {
    showToast('ÏÑ§Ï†ïÏóêÏÑú PATÎ•º Î®ºÏ†Ä ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî');
    return;
  }

  const owner = CHAT_GITHUB_OWNER;
  const repo = CHAT_GITHUB_REPO;

  // Î≤ÑÌäº ÎπÑÌôúÏÑ±Ìôî
  const sendBtn = document.querySelector('.kakao-send-btn');
  sendBtn.textContent = '...';
  sendBtn.disabled = true;
  input.disabled = true;

  try {
    if (currentIssueNumber) {
      // Í∏∞Ï°¥ Ïù¥ÏäàÏóê ÎåìÍ∏Ä Ï∂îÍ∞Ä
      const res = await fetch(
        `https://api.github.com/repos/${owner}/${repo}/issues/${currentIssueNumber}/comments`,
        {
          method: 'POST',
          headers: {
            'Authorization': `token ${pat}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ body: message })
        }
      );
      if (!res.ok) throw new Error('Ï†ÑÏÜ° Ïã§Ìå®');
    } else {
      // ÏÉà Ïù¥Ïäà ÏÉùÏÑ±
      const res = await fetch(
        `https://api.github.com/repos/${owner}/${repo}/issues`,
        {
          method: 'POST',
          headers: {
            'Authorization': `token ${pat}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            title: `[ÏûëÏóÖÏã§] ${message.substring(0, 50)}`,
            body: message
          })
        }
      );
      if (!res.ok) throw new Error('Ï†ÑÏÜ° Ïã§Ìå®');
    }

    // ÏÑ±Í≥µ
    input.value = '';
    await loadChatRoom();

  } catch (error) {
    showToast('Ï†ÑÏÜ° Ïã§Ìå® - ÏÑ§Ï†ïÏóêÏÑú PAT ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî');
  } finally {
    sendBtn.textContent = 'Ï†ÑÏÜ°';
    sendBtn.disabled = false;
    input.disabled = false;
  }
}

// PR Î∞úÌñâ (Issue Close) - APIÎ°ú Î∞îÎ°ú Îã´Í∏∞
async function closeChat() {
  if (!currentIssueNumber) {
    showToast('Îã´ÏùÑ ÎåÄÌôîÍ∞Ä ÏóÜÏäµÎãàÎã§');
    return;
  }

  const pat = getChatPat();
  if (!pat) {
    showToast('ÏÑ§Ï†ïÏóêÏÑú PATÎ•º Î®ºÏ†Ä ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî');
    return;
  }

  if (!confirm('Ïù¥ ÎåÄÌôîÎ•º ÏôÑÎ£åÌïòÍ≥† ÏïÑÏπ¥Ïù¥Î∏åÎ°ú Î≥¥ÎÇ¥ÏãúÍ≤†ÏäµÎãàÍπå?')) {
    return;
  }

  const owner = CHAT_GITHUB_OWNER;
  const repo = CHAT_GITHUB_REPO;
  const prBtn = document.getElementById('chatPrBtn');

  prBtn.textContent = '...';
  prBtn.disabled = true;

  try {
    const res = await fetch(
      `https://api.github.com/repos/${owner}/${repo}/issues/${currentIssueNumber}`,
      {
        method: 'PATCH',
        headers: {
          'Authorization': `token ${pat}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ state: 'closed' })
      }
    );

    if (!res.ok) throw new Error('Ïã§Ìå®');

    showToast('PR ÏôÑÎ£å! ÏÉà ÎåÄÌôîÎ•º ÏãúÏûëÌïòÏÑ∏Ïöî');
    currentIssueNumber = null;
    await loadChatRoom();

  } catch (error) {
    showToast('PR Ïã§Ìå® - ÏÑ§Ï†ïÏóêÏÑú PAT ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî');
  } finally {
    prBtn.textContent = 'PR';
    prBtn.disabled = false;
  }
}

// =====================
// =====================
// HQ Bridge Integration
// =====================
const HQ_API_BASE = 'https://dtslib1979.github.io/dtslib-branch/hq/api';
const HQ_NOTICES_URL = 'https://dtslib1979.github.io/dtslib-branch/hq/notices/notices.json';
const CURRENT_BRANCH = 'koosy';

async function loadHQNotices() {
  const noticeList = document.getElementById('noticeList');
  if (!noticeList) return;

  try {
    const res = await fetch(HQ_NOTICES_URL + '?t=' + Date.now());
    const data = await res.json();
    const notices = data.notices || [];

    // ÌòÑÏû¨ Î∏åÎûúÏπòÏóê Ìï¥ÎãπÌïòÎäî Í≥µÏßÄÎßå ÌïÑÌÑ∞
    const myNotices = notices.filter(n =>
      n.branches.includes(CURRENT_BRANCH) &&
      new Date(n.expiresAt) > new Date()
    );

    if (myNotices.length === 0) {
      noticeList.innerHTML = '<div style="padding:12px;color:var(--text-muted);font-size:12px;text-align:center;">ÌòÑÏû¨ Í≥µÏßÄÏÇ¨Ìï≠Ïù¥ ÏóÜÏäµÎãàÎã§</div>';
      return;
    }

    const typeIcons = { info: '‚ÑπÔ∏è', warning: '‚ö†Ô∏è', success: '‚úÖ', urgent: 'üö®' };
    const typeBadges = { info: 'INFO', warning: 'WARN', success: 'OK', urgent: 'Í∏¥Í∏â' };

    noticeList.innerHTML = myNotices.map(notice => {
      const date = new Date(notice.createdAt).toLocaleDateString('ko-KR', { month: '2-digit', day: '2-digit' });
      return `
        <div class="notice-item" style="cursor:default;">
          <span class="notice-badge ${notice.type === 'urgent' ? 'new' : ''}">${typeBadges[notice.type] || 'NEW'}</span>
          <span class="notice-text">${typeIcons[notice.type] || ''} ${notice.title} ‚Äî ${notice.content}</span>
          <span class="notice-date">${date}</span>
        </div>
      `;
    }).join('');
  } catch (e) {
    noticeList.innerHTML = '<div style="padding:12px;color:var(--text-muted);font-size:12px;">Í≥µÏßÄÏÇ¨Ìï≠ÏùÑ Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§</div>';
  }
}

async function loadBranchNetwork() {
  const grid = document.getElementById('branchNetworkGrid');
  if (!grid) return;

  try {
    const res = await fetch(HQ_API_BASE + '/manifest.json?t=' + Date.now());
    const manifest = await res.json();
    const branches = manifest.branches || [];

    // HQÎèÑ Ï∂îÍ∞Ä
    const allBranches = [
      {
        id: 'hq',
        name: 'DTSLIB HQ',
        url: 'https://dtslib1979.github.io/dtslib-branch/',
        avatar: 'https://dtslib1979.github.io/dtslib-branch/assets/icons/1768353694540.jpg',
        status: 'operational',
        tagline: 'Î≥∏ÏÇ¨'
      },
      ...branches
    ];

    grid.innerHTML = allBranches.map(branch => {
      const isCurrent = branch.id === CURRENT_BRANCH;
      const statusClass = branch.status === 'active' || branch.status === 'operational' ? 'active' : branch.status;
      const statusText = branch.status === 'operational' ? 'HQ' :
                         branch.status === 'active' ? 'Ïö¥ÏòÅÏ§ë' :
                         branch.status === 'incubation' ? 'Ïù∏ÌÅêÎ≤†Ïù¥ÌåÖ' : branch.status;

      return `
        <a href="${branch.url}" class="branch-card-mini ${isCurrent ? 'current' : ''}" target="${isCurrent ? '_self' : '_blank'}">
          <img src="${branch.avatar}" alt="${branch.name}" class="branch-avatar-mini">
          <div class="branch-info-mini">
            <div class="branch-name-mini">${branch.name}${isCurrent ? ' (ÌòÑÏû¨)' : ''}</div>
            <div class="branch-status-mini ${statusClass}">${statusText}</div>
          </div>
        </a>
      `;
    }).join('');
  } catch (e) {
    grid.innerHTML = '<div style="padding:12px;color:var(--text-muted);font-size:12px;">Î∏åÎûúÏπò Î™©Î°ùÏùÑ Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§</div>';
  }
}

// =====================
// Repository Network
// =====================
const REPO_CONFIG_KEY = 'koosy_repo_config';

// ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÏÑ§Ï†ï Î∂àÎü¨Ïò§Í∏∞
document.addEventListener('DOMContentLoaded', () => {
  loadRepoConfig();
  renderRepoGrid();
  renderStoreLinks();
  renderQuickLinks();
  loadChatRoom(); // Ï±ÑÌåÖÎ∞© Î°úÎìú
  loadHQNotices(); // HQ Í≥µÏßÄ Î°úÎìú
  loadBranchNetwork(); // Í≥ÑÏó¥ÏÇ¨ ÎÑ§Ìä∏ÏõåÌÅ¨ Î°úÎìú
});

function loadRepoConfig() {
  const saved = localStorage.getItem(REPO_CONFIG_KEY);
  if (saved) {
    const config = JSON.parse(saved);
    document.getElementById('inputGithubId').value = config.githubId || '';
    document.getElementById('inputMainRepo').value = config.mainRepo || '';
    document.getElementById('inputBlogRepo').value = config.blogRepo || '';
    document.getElementById('inputLogsRepo').value = config.logsRepo || '';
    document.getElementById('inputPwaRepo').value = config.pwaRepo || '';
    document.getElementById('inputApkRepo').value = config.apkRepo || '';
    document.getElementById('inputMediaRepo').value = config.mediaRepo || '';
    document.getElementById('inputPat').value = config.pat || '';
    updateStatusIcons(config);
  }
}

function saveRepoConfig() {
  const config = {
    githubId: document.getElementById('inputGithubId').value.trim(),
    mainRepo: document.getElementById('inputMainRepo').value.trim(),
    blogRepo: document.getElementById('inputBlogRepo').value.trim(),
    logsRepo: document.getElementById('inputLogsRepo').value.trim(),
    pwaRepo: document.getElementById('inputPwaRepo').value.trim(),
    apkRepo: document.getElementById('inputApkRepo').value.trim(),
    mediaRepo: document.getElementById('inputMediaRepo').value.trim(),
    pat: document.getElementById('inputPat').value.trim()
  };

  localStorage.setItem(REPO_CONFIG_KEY, JSON.stringify(config));
  updateStatusIcons(config);
  renderRepoGrid();
  renderStoreLinks();
  renderQuickLinks();
  showToast('Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§');
}

function updateStatusIcons(config) {
  document.getElementById('statusGithub').textContent = config.githubId ? 'üîì' : 'üîí';
  document.getElementById('statusMain').textContent = config.mainRepo ? 'üîì' : 'üîí';
  document.getElementById('statusBlog').textContent = config.blogRepo ? 'üîì' : 'üîí';
  document.getElementById('statusLogs').textContent = config.logsRepo ? 'üîì' : 'üîí';
  document.getElementById('statusPwa').textContent = config.pwaRepo ? 'üîì' : 'üîí';
  document.getElementById('statusApk').textContent = config.apkRepo ? 'üîì' : 'üîí';
  document.getElementById('statusMedia').textContent = config.mediaRepo ? 'üîì' : 'üîí';
  document.getElementById('statusPat').textContent = config.pat ? 'üîì' : 'üîí';
}

function renderRepoGrid() {
  const saved = localStorage.getItem(REPO_CONFIG_KEY);
  const config = saved ? JSON.parse(saved) : {};
  const grid = document.getElementById('repoGrid');

  const g = config.githubId || '';

  // 6Í∞ú Î†àÌè¨ Ï†ïÏùò
  const repos = [
    { key: 'mainRepo', icon: 'üåê', name: 'Î©îÏù∏', badge: 'WEB', badgeClass: 'web', desc: 'ÎûúÎî©+Ìè¨ÌÉà', hosting: 'pages' },
    { key: 'blogRepo', icon: 'üìù', name: 'Î∏îÎ°úÍ∑∏', badge: 'BLOG', badgeClass: 'web', desc: 'HTML Ìè¨Ïä§ÌåÖ', hosting: 'pages' },
    { key: 'logsRepo', icon: 'üìã', name: 'Î°úÍ∑∏', badge: 'LOG', badgeClass: 'web', desc: 'Ï∫°Ï≤ò Ï†ÄÏû•ÏÜå', hosting: 'api' },
    { key: 'pwaRepo', icon: '‚ö°', name: 'PWA', badge: 'APP', badgeClass: 'web', desc: 'Vercel Ïï±', hosting: 'vercel' },
    { key: 'apkRepo', icon: 'üì±', name: 'APK', badge: 'APK', badgeClass: 'apk', desc: 'APK Ïä§ÌÜ†Ïñ¥', hosting: 'vercel' },
    { key: 'mediaRepo', icon: 'üñºÔ∏è', name: 'ÎØ∏ÎîîÏñ¥', badge: 'CDN', badgeClass: 'web', desc: 'ÏÇ¨ÏßÑ/ÏùåÏõê', hosting: 'cdn' }
  ];

  let html = '';

  repos.forEach(repo => {
    const repoName = config[repo.key] || '';
    if (g && repoName) {
      let link = '';
      if (repo.hosting === 'pages') {
        link = `${g}.github.io/${repoName}`;
      } else if (repo.hosting === 'vercel') {
        link = `${repoName}.vercel.app`;
      } else if (repo.hosting === 'cdn') {
        link = `cdn.jsdelivr.net/gh/${g}/${repoName}`;
      } else {
        link = `GitHub API Ïó∞Îèô`;
      }

      html += `
        <a href="https://github.com/${g}/${repoName}" target="_blank" class="repo-card">
          <div class="repo-header">
            <span class="repo-icon">${repo.icon}</span>
            <span class="repo-name">${repoName}</span>
            <span class="repo-badge ${repo.badgeClass}">${repo.badge}</span>
          </div>
          <div class="repo-links">
            <span class="repo-link">üîì Ïó∞Í≤∞Îê®</span>
            <span class="repo-link">üìÑ ${link}</span>
          </div>
        </a>`;
    } else {
      html += `
        <div class="repo-card empty">
          <div class="repo-header">
            <span class="repo-icon">${repo.icon}</span>
            <span class="repo-name">${repo.name}</span>
            <span class="repo-status">üîí</span>
          </div>
          <div class="repo-links">
            <span class="repo-link">${repo.desc}</span>
          </div>
        </div>`;
    }
  });

  grid.innerHTML = html;
}

// =====================
// Store Links (ÎÇ¥ Ïä§ÌÜ†Ïñ¥)
// =====================
function renderStoreLinks() {
  const saved = localStorage.getItem(REPO_CONFIG_KEY);
  const config = saved ? JSON.parse(saved) : {};
  const container = document.getElementById('storeLinks');

  const g = config.githubId || '';
  const pwaRepo = config.pwaRepo || '';
  const apkRepo = config.apkRepo || '';

  let html = '';

  // PWA Ïä§ÌÜ†Ïñ¥
  if (g && pwaRepo) {
    html += `
      <a href="https://${pwaRepo}.vercel.app" target="_blank" class="store-item">
        <span class="store-icon">‚ö°</span>
        <div class="store-content">
          <p class="store-name">PWA Ïä§ÌÜ†Ïñ¥</p>
          <p class="store-url">${pwaRepo}.vercel.app</p>
        </div>
        <span class="store-arrow">‚Üí</span>
      </a>`;
  } else {
    html += `
      <div class="store-item disabled">
        <span class="store-icon">‚ö°</span>
        <div class="store-content">
          <p class="store-name">PWA Ïä§ÌÜ†Ïñ¥</p>
          <p class="store-url">Step 4ÏóêÏÑú PWA Î†àÌè¨ ÏÑ§Ï†ï</p>
        </div>
      </div>`;
  }

  // APK Ïä§ÌÜ†Ïñ¥
  if (g && apkRepo) {
    html += `
      <a href="https://${apkRepo}.vercel.app" target="_blank" class="store-item">
        <span class="store-icon">üì±</span>
        <div class="store-content">
          <p class="store-name">APK Ïä§ÌÜ†Ïñ¥</p>
          <p class="store-url">${apkRepo}.vercel.app</p>
        </div>
        <span class="store-arrow">‚Üí</span>
      </a>`;
  } else {
    html += `
      <div class="store-item disabled">
        <span class="store-icon">üì±</span>
        <div class="store-content">
          <p class="store-name">APK Ïä§ÌÜ†Ïñ¥</p>
          <p class="store-url">Step 4ÏóêÏÑú APK Î†àÌè¨ ÏÑ§Ï†ï</p>
        </div>
      </div>`;
  }

  container.innerHTML = html;
}

// =====================
// Quick Links (AI ÎèôÏòÅÏÉÅ Ìà¥ + Í∞§Îü¨Î¶¨)
// =====================
function renderQuickLinks() {
  const container = document.getElementById('quickLinks');

  container.innerHTML = `
    <a href="https://sora.com" target="_blank" class="quick-link">
      <span class="quick-link-icon">üé¨</span>
      <span>Sora</span>
    </a>
    <a href="https://gemini.google.com" target="_blank" class="quick-link">
      <span class="quick-link-icon">‚ú®</span>
      <span>Gemini</span>
    </a>
    <a href="https://grok.x.ai" target="_blank" class="quick-link">
      <span class="quick-link-icon">ü§ñ</span>
      <span>Grok</span>
    </a>
    <label class="quick-link" style="cursor:pointer;">
      <span class="quick-link-icon">üì∑</span>
      <span>Í∞§Îü¨Î¶¨</span>
      <input type="file" accept="image/*" multiple style="display:none;" onchange="handleGallery(this)">
    </label>`;
}

function handleGallery(input) {
  // ÏÑ†ÌÉùÎêú ÌååÏùº Ï≤òÎ¶¨ (ÌïÑÏöîÏãú ÌôïÏû•)
  if (input.files.length > 0) {
    showToast(input.files.length + 'Í∞ú ÏÑ†ÌÉùÎê®');
  }
}

// =====================
// Instructions
// =====================
const INSTRUCTIONS = {
  main: {
    label: 'üìã Î©îÏù∏ Î†àÌè¨ Íµ¨Ï∂ï Ïù∏Ïä§Ìä∏Îü≠ÏÖò',
    content: `## Î©îÏù∏ Î†àÌè¨ÏßÄÌÜ†Î¶¨ (branch) Íµ¨Ï∂ï

GitHub Pages Í∏∞Î∞ò ÎûúÎî©ÌéòÏù¥ÏßÄ + Staff Portal Î†àÌè¨ÏßÄÌÜ†Î¶¨Î•º Íµ¨Ï∂ïÌï¥Ï£ºÏÑ∏Ïöî.

### Íµ¨Ï°∞
\`\`\`
{username}-branch/
‚îú‚îÄ‚îÄ index.html          # ÎûúÎî©ÌéòÏù¥ÏßÄ
‚îú‚îÄ‚îÄ config.json         # ÏÇ¨Ïù¥Ìä∏ ÏÑ§Ï†ï
‚îú‚îÄ‚îÄ sw.js               # Service Worker (PWA)
‚îú‚îÄ‚îÄ robots.txt          # SEO
‚îú‚îÄ‚îÄ sitemap.xml         # ÏÇ¨Ïù¥Ìä∏Îßµ
‚îú‚îÄ‚îÄ .nojekyll           # Jekyll ÎπÑÌôúÏÑ±Ìôî
‚îú‚îÄ‚îÄ CLAUDE.md           # Claude Code Í∞ÄÏù¥Îìú
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json   # PWA Îß§ÎãàÌéòÏä§Ìä∏
‚îÇ   ‚îî‚îÄ‚îÄ icons/logo.png  # Ïï± ÏïÑÏù¥ÏΩò
‚îú‚îÄ‚îÄ staff/
‚îÇ   ‚îî‚îÄ‚îÄ index.html      # Staff Portal (ÎπÑÎ∞ÄÎ≤àÌò∏ ÏÑ§Ï†ï ÌïÑÏöî)
‚îî‚îÄ‚îÄ tools/
    ‚îú‚îÄ‚îÄ html-poster.html    # HTML Ìè¨Ïä§ÌåÖ ÎèÑÍµ¨
    ‚îî‚îÄ‚îÄ webpage-prompt.html # ÏõπÌéòÏù¥ÏßÄ ÌîÑÎ°¨ÌîÑÌä∏ ÏÉùÏÑ±Í∏∞
\`\`\`

### ÎîîÏûêÏù∏ ÏãúÏä§ÌÖú
- Îã§ÌÅ¨ ÌÖåÎßà: Î∞∞Í≤Ω #0a0f0c, Í≥®Îìú #f0c850
- Î™®Î∞îÏùº ÌçºÏä§Ìä∏ (max-width: 500px)
- PWA ÏßÄÏõê (Ïò§ÌîÑÎùºÏù∏ Ï∫êÏã±)

### ÌïÑÏàò Í∏∞Îä•
1. ÎûúÎî©ÌéòÏù¥ÏßÄ: Î™ÖÌï® Ïπ¥Îìú, GitHub Pages Ìå®ÎÑê, ÎßÅÌÅ¨Ìä∏Î¶¨
2. Staff Portal: ÎπÑÎ∞ÄÎ≤àÌò∏ Í≤åÏù¥Ìä∏, Î†àÌè¨ ÎÑ§Ìä∏ÏõåÌÅ¨ ÎåÄÏãúÎ≥¥Îìú, localStorage ÏÑ§Ï†ï Ï†ÄÏû•
3. HTML Ìè¨Ïä§ÌÑ∞: GitHub APIÎ°ú Î∏îÎ°úÍ∑∏ Î†àÌè¨Ïóê HTML Î∞∞Ìè¨

### GitHub Pages ÏÑ§Ï†ï
Settings ‚Üí Pages ‚Üí Deploy from main branch
.nojekyll ÌååÏùºÎ°ú Jekyll ÎπÑÌôúÏÑ±Ìôî

Ïù¥ Íµ¨Ï°∞Î°ú Î†àÌè¨ÏßÄÌÜ†Î¶¨Î•º ÏÉùÏÑ±ÌïòÍ≥† Ïª§Î∞ãÌï¥Ï£ºÏÑ∏Ïöî.`
  },
  blog: {
    label: 'üìã Î∏îÎ°úÍ∑∏ Î†àÌè¨ Íµ¨Ï∂ï Ïù∏Ïä§Ìä∏Îü≠ÏÖò',
    content: `## Î∏îÎ°úÍ∑∏ Î†àÌè¨ÏßÄÌÜ†Î¶¨ (posts) Íµ¨Ï∂ï

GitHub Pages Í∏∞Î∞ò HTML Î∏îÎ°úÍ∑∏ Î†àÌè¨ÏßÄÌÜ†Î¶¨Î•º Íµ¨Ï∂ïÌï¥Ï£ºÏÑ∏Ïöî.

### Íµ¨Ï°∞
\`\`\`
{username}-posts/
‚îú‚îÄ‚îÄ index.html      # Ìè¨Ïä§Ìä∏ Î™©Î°ù ÌéòÏù¥ÏßÄ
‚îú‚îÄ‚îÄ .nojekyll       # Jekyll ÎπÑÌôúÏÑ±Ìôî
‚îú‚îÄ‚îÄ CLAUDE.md       # Claude Code Í∞ÄÏù¥Îìú
‚îî‚îÄ‚îÄ posts/          # HTML Ìè¨Ïä§Ìä∏ Ìè¥Îçî
    ‚îú‚îÄ‚îÄ sample.html # ÏÉòÌîå Ìè¨Ïä§Ìä∏
    ‚îî‚îÄ‚îÄ ...
\`\`\`

### index.html ÏöîÍµ¨ÏÇ¨Ìï≠
- Îã§ÌÅ¨ ÌÖåÎßà (Î∞∞Í≤Ω: #0a0f0c, Í≥®Îìú: #f0c850)
- Î™®Î∞îÏùº ÌçºÏä§Ìä∏ Î∞òÏùëÌòï
- posts/ Ìè¥ÎçîÏùò HTML ÌååÏùº Î™©Î°ùÏùÑ Ïπ¥ÎìúÎ°ú ÌëúÏãú
- Í∞Å Ïπ¥Îìú: Ï†úÎ™©, ÎÇ†Ïßú, ÎßÅÌÅ¨

### Ìè¨Ïä§Ìä∏ HTML ÌòïÏãù
- ÎèÖÎ¶Ω Ïã§Ìñâ Í∞ÄÎä•Ìïú ÏôÑÏ†ÑÌïú HTML
- ÎèôÏùºÌïú Îã§ÌÅ¨ ÌÖåÎßà Ï†ÅÏö©
- Îí§Î°úÍ∞ÄÍ∏∞ Î≤ÑÌäº (../ ÎßÅÌÅ¨)
- meta ÌÉúÍ∑∏Î°ú Ï†úÎ™©, ÎÇ†Ïßú Ï†ïÎ≥¥ Ìè¨Ìï®

### GitHub Pages ÏÑ§Ï†ï
Settings ‚Üí Pages ‚Üí main branch / root
.nojekyll ÌååÏùº ÌïÑÏàò

HTML Ìè¨Ïä§ÌÑ∞ ÎèÑÍµ¨ÏóêÏÑú GitHub APIÎ°ú ÏßÅÏ†ë Î∞∞Ìè¨Îê©ÎãàÎã§.`
  },
  logs: {
    label: 'üìã Î°úÍ∑∏ Î†àÌè¨ Íµ¨Ï∂ï Ïù∏Ïä§Ìä∏Îü≠ÏÖò',
    content: `## Î°úÍ∑∏ Ï†ÄÏû•ÏÜå (logs) Íµ¨Ï∂ï

Parksy Capture Ïï±ÏóêÏÑú Ï∫°Ï≤òÌïú ÌÖçÏä§Ìä∏/ÎßÅÌÅ¨Î•º Ï†ÄÏû•ÌïòÎäî Î†àÌè¨ÏßÄÌÜ†Î¶¨ÏûÖÎãàÎã§.

### Íµ¨Ï°∞
\`\`\`
{username}-logs/
‚îú‚îÄ‚îÄ index.html      # Î°úÍ∑∏ Î∑∞Ïñ¥ ÌéòÏù¥ÏßÄ
‚îú‚îÄ‚îÄ .nojekyll       # Jekyll ÎπÑÌôúÏÑ±Ìôî
‚îú‚îÄ‚îÄ CLAUDE.md       # Claude Code Í∞ÄÏù¥Îìú
‚îî‚îÄ‚îÄ captures/       # Ï∫°Ï≤ò Îç∞Ïù¥ÌÑ∞ Ìè¥Îçî
    ‚îú‚îÄ‚îÄ 2026-01-12.json  # ÎÇ†ÏßúÎ≥Ñ JSON
    ‚îî‚îÄ‚îÄ ...
\`\`\`

### index.html ÏöîÍµ¨ÏÇ¨Ìï≠
- Îã§ÌÅ¨ ÌÖåÎßà (Î∞∞Í≤Ω: #0a0f0c, Í≥®Îìú: #f0c850)
- captures/ Ìè¥ÎçîÏùò JSON ÌååÏùº Î™©Î°ù ÌëúÏãú
- Í∞Å Ï∫°Ï≤ò Ìï≠Î™©: ÌÉÄÏûÑÏä§ÌÉ¨ÌîÑ, ÌÖçÏä§Ìä∏ ÎÇ¥Ïö©, ÏÜåÏä§ Ïï±
- Í≤ÄÏÉâ/ÌïÑÌÑ∞ Í∏∞Îä•

### JSON ÌòïÏãù
\`\`\`json
{
  "date": "2026-01-12",
  "captures": [
    {
      "timestamp": "2026-01-12T14:30:00",
      "text": "Ï∫°Ï≤òÎêú ÌÖçÏä§Ìä∏ ÎÇ¥Ïö©",
      "source": "Chrome",
      "url": "https://example.com"
    }
  ]
}
\`\`\`

### GitHub API Ïó∞Îèô
Parksy Capture Ïï±Ïù¥ PAT ÌÜ†ÌÅ∞ÏúºÎ°ú ÏßÅÏ†ë Ïª§Î∞ãÌï©ÎãàÎã§.
Settings ‚Üí Pages ÌôúÏÑ±ÌôîÎ°ú Ïõπ Î∑∞Ïñ¥ Ï†úÍ≥µ`
  },
  pwa: {
    label: 'üìã PWA Î†àÌè¨ Íµ¨Ï∂ï Ïù∏Ïä§Ìä∏Îü≠ÏÖò',
    content: `## PWA Ïï± Î†àÌè¨ÏßÄÌÜ†Î¶¨ (pwa) Íµ¨Ï∂ï

Vercel Ïó∞Îèô PWA Ïï± Í∞úÎ∞úÏö© Î†àÌè¨ÏßÄÌÜ†Î¶¨ÏûÖÎãàÎã§.

### Íµ¨Ï°∞
\`\`\`
{username}-pwa/
‚îú‚îÄ‚îÄ index.html      # Ïï± Î©îÏù∏ ÌéòÏù¥ÏßÄ
‚îú‚îÄ‚îÄ manifest.json   # PWA Îß§ÎãàÌéòÏä§Ìä∏
‚îú‚îÄ‚îÄ sw.js           # Service Worker
‚îú‚îÄ‚îÄ vercel.json     # Vercel ÏÑ§Ï†ï
‚îú‚îÄ‚îÄ CLAUDE.md       # Claude Code Í∞ÄÏù¥Îìú
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ icons/      # Ïï± ÏïÑÏù¥ÏΩòÎì§
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ app.js      # Ïï± Î°úÏßÅ
    ‚îî‚îÄ‚îÄ styles.css  # Ïä§ÌÉÄÏùº
\`\`\`

### manifest.json
\`\`\`json
{
  "name": "My PWA App",
  "short_name": "MyApp",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#0a0f0c",
  "theme_color": "#f0c850",
  "icons": [...]
}
\`\`\`

### Vercel Ïó∞Îèô
1. vercel.comÏóêÏÑú GitHub Î†àÌè¨ Ïó∞Í≤∞
2. ÏûêÎèô Î∞∞Ìè¨ ÏÑ§Ï†ï
3. {repo-name}.vercel.app ÎèÑÎ©îÏù∏ Ï†úÍ≥µ

### Ïò®ÎîîÎ∞îÏù¥Ïä§ Ïä§ÌÜ†Ïñ¥ Ïó∞Îèô
PWA ÏÑ§Ïπò ÌîÑÎ°¨ÌîÑÌä∏ + Î©îÏù∏ Î†àÌè¨ Ïä§ÌÜ†Ïñ¥ ÌéòÏù¥ÏßÄÏóêÏÑú ÎßÅÌÅ¨`
  },
  apk: {
    label: 'üìã APK Î†àÌè¨ Íµ¨Ï∂ï Ïù∏Ïä§Ìä∏Îü≠ÏÖò',
    content: `## APK Ïä§ÌÜ†Ïñ¥ Î†àÌè¨ÏßÄÌÜ†Î¶¨ (apk-lab) Íµ¨Ï∂ï

Android APK ÎπåÎìú Î∞è Î∞∞Ìè¨Ïö© Î†àÌè¨ÏßÄÌÜ†Î¶¨ÏûÖÎãàÎã§.

### Íµ¨Ï°∞
\`\`\`
{username}-apk-lab/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/      # GitHub Actions
‚îÇ       ‚îú‚îÄ‚îÄ build-app1.yml
‚îÇ       ‚îî‚îÄ‚îÄ build-app2.yml
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ app1/           # Ïï± 1 ÏÜåÏä§
‚îÇ   ‚îî‚îÄ‚îÄ app2/           # Ïï± 2 ÏÜåÏä§
‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îî‚îÄ‚îÄ index.html      # APK Îã§Ïö¥Î°úÎìú ÎåÄÏãúÎ≥¥Îìú
‚îú‚îÄ‚îÄ CLAUDE.md           # Claude Code Í∞ÄÏù¥Îìú
‚îî‚îÄ‚îÄ vercel.json         # Vercel ÏÑ§Ï†ï
\`\`\`

### GitHub Actions ÏõåÌÅ¨ÌîåÎ°úÏö∞
- Android ÎπåÎìú ÌôòÍ≤Ω ÏÑ§Ï†ï
- Gradle ÎπåÎìú Ïã§Ìñâ
- APK ÏïÑÌã∞Ìå©Ìä∏ ÏóÖÎ°úÎìú
- nightly.linkÎ°ú Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨ ÏÉùÏÑ±

### Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨ ÌòïÏãù
nightly.link/{username}/{repo}/workflows/{workflow}/main/{artifact}.zip

### Vercel Ïó∞Îèô
dashboard/ Ìè¥ÎçîÎ•º VercelÎ°ú Î∞∞Ìè¨ÌïòÏó¨ APK Îã§Ïö¥Î°úÎìú ÌéòÏù¥ÏßÄ Ï†úÍ≥µ

### Ïò®ÎîîÎ∞îÏù¥Ïä§ Ïä§ÌÜ†Ïñ¥
ÎåÄÏãúÎ≥¥ÎìúÏóêÏÑú APK ÏßÅÏ†ë Îã§Ïö¥Î°úÎìú + ÏÑ§Ïπò Í∞ÄÏù¥Îìú`
  },
  media: {
    label: 'üìã ÎØ∏ÎîîÏñ¥ Î†àÌè¨ Íµ¨Ï∂ï Ïù∏Ïä§Ìä∏Îü≠ÏÖò',
    content: `## ÎØ∏ÎîîÏñ¥ Ï†ÄÏû•ÏÜå (media) Íµ¨Ï∂ï

ÏÇ¨ÏßÑ, ÏùåÏõê Îì± ÎØ∏ÎîîÏñ¥ ÌååÏùºÏùÑ CDNÏúºÎ°ú Ï†úÍ≥µÌïòÎäî Î†àÌè¨ÏßÄÌÜ†Î¶¨ÏûÖÎãàÎã§.

### Íµ¨Ï°∞
\`\`\`
{username}-media/
‚îú‚îÄ‚îÄ index.html      # ÎØ∏ÎîîÏñ¥ Í∞§Îü¨Î¶¨ ÌéòÏù¥ÏßÄ
‚îú‚îÄ‚îÄ .nojekyll       # Jekyll ÎπÑÌôúÏÑ±Ìôî
‚îú‚îÄ‚îÄ CLAUDE.md       # Claude Code Í∞ÄÏù¥Îìú
‚îú‚îÄ‚îÄ images/         # Ïù¥ÎØ∏ÏßÄ ÌååÏùº
‚îÇ   ‚îú‚îÄ‚îÄ photos/     # ÏÇ¨ÏßÑ
‚îÇ   ‚îú‚îÄ‚îÄ icons/      # ÏïÑÏù¥ÏΩò
‚îÇ   ‚îî‚îÄ‚îÄ banners/    # Î∞∞ÎÑà
‚îî‚îÄ‚îÄ audio/          # Ïò§ÎîîÏò§ ÌååÏùº
    ‚îî‚îÄ‚îÄ ...
\`\`\`

### CDN URL ÌòïÏãù
jsDelivr CDN ÏÇ¨Ïö©:
https://cdn.jsdelivr.net/gh/{username}/{repo}@main/images/photo.jpg

ÎòêÎäî GitHub Raw:
https://raw.githubusercontent.com/{username}/{repo}/main/images/photo.jpg

### index.html ÏöîÍµ¨ÏÇ¨Ìï≠
- Îã§ÌÅ¨ ÌÖåÎßà (Î∞∞Í≤Ω: #0a0f0c, Í≥®Îìú: #f0c850)
- Ïù¥ÎØ∏ÏßÄ Í∞§Îü¨Î¶¨ Í∑∏Î¶¨Îìú
- ÌÅ¥Î¶≠ Ïãú CDN URL Î≥µÏÇ¨
- Ìè¥ÎçîÎ≥Ñ ÌïÑÌÑ∞ÎßÅ

### Ïö©Îüâ Ï†úÌïú
- GitHub Î†àÌè¨: ÌååÏùºÎãπ 100MB, Î†àÌè¨Îãπ Í∂åÏû• 1GB Ïù¥Ìïò
- ÎåÄÏö©ÎüâÏùÄ GitHub LFS ÎòêÎäî Ïô∏Î∂Ä CDN ÏÇ¨Ïö©`
  }
};

let currentInstruction = 'main';

function showInstruction(type) {
  currentInstruction = type;
  const inst = INSTRUCTIONS[type];

  document.getElementById('promptLabel').textContent = inst.label;
  document.getElementById('promptContent').textContent = inst.content;

  // ÌÉ≠ ÌôúÏÑ±Ìôî
  document.querySelectorAll('.inst-tab').forEach(tab => tab.classList.remove('active'));
  event.target.classList.add('active');
}

function copyCurrentInstruction() {
  const content = INSTRUCTIONS[currentInstruction].content;
  showToast('Ïù∏Ïä§Ìä∏Îü≠ÏÖò Î≥µÏÇ¨Îê®');
  navigator.clipboard.writeText(content).catch(() => {
    const textarea = document.createElement('textarea');
    textarea.value = content;
    textarea.style.position = 'fixed';
    textarea.style.opacity = '0';
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
  });
}

// =====================
// Connection Check
// =====================
async function checkRepoConnections() {
  const saved = localStorage.getItem(REPO_CONFIG_KEY);
  if (!saved) {
    showToast('Î®ºÏ†Ä ÏÑ§Ï†ïÏùÑ Ï†ÄÏû•ÌïòÏÑ∏Ïöî');
    return;
  }

  const config = JSON.parse(saved);
  const g = config.githubId;

  if (!g) {
    showToast('GitHub IDÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî');
    return;
  }

  showToast('Ïó∞Îèô Ï≤¥ÌÅ¨ Ï§ë...');

  const repoKeys = ['mainRepo', 'blogRepo', 'logsRepo', 'pwaRepo', 'apkRepo', 'mediaRepo'];
  const statusIds = ['statusMain', 'statusBlog', 'statusLogs', 'statusPwa', 'statusApk', 'statusMedia'];

  for (let i = 0; i < repoKeys.length; i++) {
    const repoName = config[repoKeys[i]];
    const statusEl = document.getElementById(statusIds[i]);

    if (!repoName) {
      statusEl.textContent = 'üîí';
      continue;
    }

    statusEl.textContent = '‚è≥';

    try {
      const res = await fetch(`https://api.github.com/repos/${g}/${repoName}`, {
        headers: config.pat ? { 'Authorization': `token ${config.pat}` } : {}
      });

      if (res.ok) {
        statusEl.textContent = '‚úÖ';
      } else if (res.status === 404) {
        statusEl.textContent = '‚ùå';
      } else {
        statusEl.textContent = '‚ö†Ô∏è';
      }
    } catch (e) {
      statusEl.textContent = '‚ö†Ô∏è';
    }
  }

  // GitHub ID Ï≤¥ÌÅ¨
  try {
    const res = await fetch(`https://api.github.com/users/${g}`);
    document.getElementById('statusGithub').textContent = res.ok ? '‚úÖ' : '‚ùå';
  } catch (e) {
    document.getElementById('statusGithub').textContent = '‚ö†Ô∏è';
  }

  // PAT Ï≤¥ÌÅ¨ (Ïù∏Ï¶ù ÌÖåÏä§Ìä∏)
  if (config.pat) {
    try {
      const res = await fetch('https://api.github.com/user', {
        headers: { 'Authorization': `token ${config.pat}` }
      });
      document.getElementById('statusPat').textContent = res.ok ? '‚úÖ' : '‚ùå';
    } catch (e) {
      document.getElementById('statusPat').textContent = '‚ö†Ô∏è';
    }
  }

  showToast('Ï≤¥ÌÅ¨ ÏôÑÎ£å');
  renderRepoGrid();
}

// =====================
// HTMLPost Modal
// =====================
function openHtmlPost() {
  document.getElementById('htmlPostModal').classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeHtmlPost() {
  document.getElementById('htmlPostModal').classList.remove('show');
  document.body.style.overflow = '';
}

function previewHtml() {
  const input = document.getElementById('htmlInput').value;
  const preview = document.getElementById('htmlPreview');
  if (input.trim()) {
    preview.innerHTML = input;
  } else {
    preview.innerHTML = '';
  }
}

function copyHtml() {
  const input = document.getElementById('htmlInput').value;
  if (!input.trim()) {
    showToast('HTMLÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî');
    return;
  }
  navigator.clipboard.writeText(input).then(() => {
    showToast('HTML Î≥µÏÇ¨Îê®');
  }).catch(() => {
    // Fallback
    const textarea = document.createElement('textarea');
    textarea.value = input;
    textarea.style.position = 'fixed';
    textarea.style.opacity = '0';
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
    showToast('HTML Î≥µÏÇ¨Îê®');
  });
}

// Close modal on backdrop click
document.getElementById('htmlPostModal')?.addEventListener('click', (e) => {
  if (e.target.id === 'htmlPostModal') {
    closeHtmlPost();
  }
});

// =====================
// All Articles Manager (with status flags)
// =====================
(async function loadAllArticles() {
  const articlesList = document.getElementById('allArticlesList');
  const articleCount = document.getElementById('allArticleCount');
  if (!articlesList) return;

  try {
    const response = await fetch('../articles/articles.json');
    if (!response.ok) throw new Error('Failed to load');

    const data = await response.json();
    const articles = data.articles || [];

    if (articleCount) {
      articleCount.textContent = articles.length;
    }

    if (articles.length === 0) {
      articlesList.innerHTML = '<div class="draft-empty">No articles yet</div>';
      return;
    }

    articlesList.innerHTML = articles.map(article => {
      const isDraft = article.status === 'draft';
      const badgeClass = isDraft ? 'draft-badge' : 'published-badge';
      const badgeText = isDraft ? 'DRAFT' : 'PUBLISHED';
      return `
        <a href="../articles/${article.file}" class="draft-item">
          <span class="${badgeClass}">${badgeText}</span>
          <span class="draft-title">${article.title}</span>
        </a>
      `;
    }).join('');

  } catch (err) {
    console.log('Articles not available:', err);
    articlesList.innerHTML = '<div class="draft-empty">Unable to load articles</div>';
  }
})();
</script>

<!-- Ï†ÑÏ≤¥ÌôîÎ©¥ Ï±ÑÌåÖ Ïò§Î≤ÑÎ†àÏù¥ -->
<div class="kakao-fullscreen-overlay" id="chatFullscreen">
  <div class="kakao-fullscreen-header">
    <span class="kakao-fullscreen-title" id="fullscreenTitle">HQ ÏûëÏóÖÏã§</span>
    <button class="kakao-fullscreen-close" onclick="closeFullscreen()">‚úï</button>
  </div>
  <div class="kakao-fullscreen-messages" id="fullscreenMessages">
    <!-- Î©îÏãúÏßÄÍ∞Ä Ïó¨Í∏∞Ïóê Î≥µÏÇ¨Îê® -->
  </div>
  <div class="kakao-fullscreen-input">
    <input type="text" id="fullscreenInput" placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..." onkeypress="if(event.key==='Enter')sendMessageFullscreen()">
    <button onclick="sendMessageFullscreen()">Ï†ÑÏÜ°</button>
    <button onclick="closeChatFullscreen()" style="background:#ff6b6b;">PR</button>
  </div>
</div>

</body>
</html>

<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0a0f0c" />
  <meta name="robots" content="noindex, nofollow" />
  <title>HTML í¬ìŠ¤í„° | dtslib</title>
  <style>
    :root {
      --bg: #0a0f0c;
      --bg-elevated: #141f18;
      --bg-card: #1a2b20;
      --gold: #f0c850;
      --gold-dim: rgba(240,200,80,.2);
      --text: #ffffff;
      --text-secondary: rgba(255,255,255,.85);
      --text-muted: rgba(255,255,255,.6);
      --border: rgba(255,255,255,.15);
      --border-gold: rgba(240,200,80,.5);
      --success: #5fd068;
      --error: #ff5555;
      --radius-sm: 10px;
      --radius-md: 14px;
      --radius-lg: 18px;
      --radius-full: 9999px;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-size: 16px;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
    }

    .container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      padding: 16px;
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px 0;
      margin-bottom: 20px;
      border-bottom: 2px solid var(--border);
    }

    .back-btn {
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-full);
      color: var(--text);
      font-size: 18px;
      text-decoration: none;
      transition: all 0.2s;
    }

    .back-btn:hover { border-color: var(--gold); }

    .header-info h1 { font-size: 20px; font-weight: 700; }
    .header-info p { font-size: 14px; color: var(--text-secondary); }

    /* Tabs */
    .tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 20px;
    }

    .tab-btn {
      flex: 1;
      padding: 14px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      font-size: 14px;
      font-weight: 600;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s;
    }

    .tab-btn:hover { border-color: var(--border-gold); }
    .tab-btn.active { background: var(--gold); color: var(--bg); border-color: var(--gold); }

    .tab-content { display: none; }
    .tab-content.active { display: block; }

    /* Form */
    .form-group { margin-bottom: 16px; }

    .form-label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-secondary);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .form-input,
    .form-textarea,
    .form-select {
      width: 100%;
      padding: 14px 16px;
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      font-size: 15px;
      color: var(--text);
      transition: border-color 0.2s;
    }

    .form-input:focus,
    .form-textarea:focus,
    .form-select:focus {
      outline: none;
      border-color: var(--gold);
    }

    .form-input::placeholder,
    .form-textarea::placeholder {
      color: var(--text-muted);
    }

    .form-textarea {
      min-height: 200px;
      resize: vertical;
      font-family: 'SF Mono', Monaco, 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.5;
    }

    .form-hint {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 6px;
    }

    /* Settings Card */
    .settings-card {
      background: var(--bg-card);
      border: 2px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 16px;
      margin-bottom: 20px;
    }

    .settings-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .settings-row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    .settings-row:last-child { margin-bottom: 0; }

    .settings-row .form-input {
      flex: 1;
    }

    /* Buttons */
    .btn-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .btn {
      flex: 1;
      padding: 16px;
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }

    .btn-primary {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--bg);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(240,200,80,.3);
    }

    .btn-secondary {
      background: var(--bg-elevated);
      color: var(--text);
    }

    .btn-secondary:hover { border-color: var(--gold); }

    /* Preview */
    .preview-frame {
      background: white;
      border-radius: var(--radius-md);
      min-height: 300px;
      padding: 20px;
      color: #333;
    }

    /* Whitepaper */
    .whitepaper {
      background: var(--bg-elevated);
      border: 2px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 20px;
    }

    .whitepaper-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
      padding-bottom: 14px;
      border-bottom: 1px solid var(--border);
    }

    .whitepaper-title {
      font-size: 16px;
      font-weight: 700;
    }

    .copy-all-btn {
      padding: 8px 16px;
      background: var(--gold-dim);
      border: 1px solid var(--border-gold);
      border-radius: var(--radius-full);
      font-size: 13px;
      font-weight: 600;
      color: var(--gold);
      cursor: pointer;
      transition: all 0.2s;
    }

    .copy-all-btn:hover { background: var(--gold); color: var(--bg); }

    .whitepaper-content {
      font-size: 13px;
      line-height: 1.8;
      color: var(--text-secondary);
      white-space: pre-wrap;
      font-family: 'SF Mono', Monaco, 'Courier New', monospace;
      background: var(--bg-card);
      padding: 16px;
      border-radius: var(--radius-md);
      max-height: 500px;
      overflow-y: auto;
    }

    /* Status */
    .status {
      padding: 14px 16px;
      border-radius: var(--radius-md);
      font-size: 14px;
      font-weight: 500;
      margin-top: 16px;
      display: none;
    }

    .status.show { display: block; }
    .status.success { background: rgba(95,208,104,.2); color: var(--success); border: 1px solid var(--success); }
    .status.error { background: rgba(255,85,85,.2); color: var(--error); border: 1px solid var(--error); }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: var(--bg-elevated);
      border: 2px solid var(--gold);
      padding: 14px 24px;
      border-radius: var(--radius-full);
      font-size: 14px;
      font-weight: 600;
      color: var(--gold);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 1000;
      pointer-events: none;
    }

    .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
  </style>
</head>
<body>

<div class="container">
  <header class="header">
    <a href="../staff/" class="back-btn">â†</a>
    <div class="header-info">
      <h1>HTML í¬ìŠ¤í„°</h1>
      <p>ë¸”ë¡œê·¸ ë ˆí¬ì§€í† ë¦¬ì— HTML ë°°í¬</p>
    </div>
  </header>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tab-btn active" data-tab="post">í¬ìŠ¤íŠ¸ ì‘ì„±</button>
    <button class="tab-btn" data-tab="setup">êµ¬ì¶• ë°±ì„œ</button>
  </div>

  <!-- Post Tab -->
  <div class="tab-content active" id="tab-post">
    <!-- GitHub Settings -->
    <div class="settings-card">
      <div class="settings-title">
        <span>âš™ï¸</span>
        <span>GitHub ì„¤ì •</span>
      </div>
      <div class="settings-row">
        <input type="text" class="form-input" id="repoOwner" placeholder="GitHub ìœ ì €ëª…">
      </div>
      <div class="settings-row">
        <input type="text" class="form-input" id="repoName" placeholder="ë¸”ë¡œê·¸ ë ˆí¬ ì´ë¦„">
      </div>
      <div class="settings-row">
        <input type="password" class="form-input" id="ghToken" placeholder="Personal Access Token">
      </div>
      <p class="form-hint">* Staff Portal ì„¤ì •ì—ì„œ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤</p>
    </div>

    <!-- Post Form -->
    <div class="form-group">
      <label class="form-label">íŒŒì¼ëª…</label>
      <input type="text" class="form-input" id="fileName" placeholder="post-001.html">
    </div>

    <div class="form-group">
      <label class="form-label">HTML ë‚´ìš©</label>
      <textarea class="form-textarea" id="htmlContent" placeholder="<!DOCTYPE html>
<html>
<head>
  <title>í¬ìŠ¤íŠ¸ ì œëª©</title>
</head>
<body>
  <h1>ì œëª©</h1>
  <p>ë‚´ìš©...</p>
</body>
</html>"></textarea>
    </div>

    <div class="btn-group">
      <button class="btn btn-secondary" id="previewBtn">ë¯¸ë¦¬ë³´ê¸°</button>
      <button class="btn btn-primary" id="publishBtn">GitHub ë°°í¬</button>
    </div>

    <div class="status" id="status"></div>

    <!-- Preview -->
    <div class="form-group" id="previewSection" style="display:none; margin-top: 20px;">
      <label class="form-label">ë¯¸ë¦¬ë³´ê¸°</label>
      <div class="preview-frame" id="previewFrame"></div>
    </div>
  </div>

  <!-- Setup Whitepaper Tab -->
  <div class="tab-content" id="tab-setup">
    <div class="whitepaper">
      <div class="whitepaper-header">
        <span class="whitepaper-title">ë ˆí¬ì§€í† ë¦¬ ë„¤íŠ¸ì›Œí¬ êµ¬ì¶• ë°±ì„œ</span>
        <button class="copy-all-btn" id="copyWhitepaper">ì „ì²´ ë³µì‚¬</button>
      </div>
      <div class="whitepaper-content" id="whitepaperContent">
# dtslib ë ˆí¬ì§€í† ë¦¬ ë„¤íŠ¸ì›Œí¬ êµ¬ì¶• ê°€ì´ë“œ

## 1. ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°

```
[dtslib-branch]          [dtslib-posts]
    (ë©”ì¸)         â†â†’      (ë¸”ë¡œê·¸)
      â†“                       â†“
  Staff Portal           HTML í¬ìŠ¤íŠ¸ë“¤
  í”„ë¡¬í”„íŠ¸ ë„êµ¬            post-001.html
  ëœë”©í˜ì´ì§€               post-002.html
```

---

## 2. ë¸”ë¡œê·¸ ë ˆí¬ì§€í† ë¦¬ ìƒì„±

### Step 1: ìƒˆ ë ˆí¬ ë§Œë“¤ê¸°
1. https://github.com/new ì ‘ì†
2. Repository name: `dtslib-posts`
3. Public ì„ íƒ
4. Add README ì²´í¬
5. Create repository

### Step 2: GitHub Pages í™œì„±í™”
1. Settings â†’ Pages
2. Source: Deploy from a branch
3. Branch: main / root
4. Save

### Step 3: ë¼ì´ë¸Œ URL í™•ì¸
```
https://[username].github.io/dtslib-posts/
```

---

## 3. Personal Access Token ìƒì„±

1. https://github.com/settings/tokens ì ‘ì†
2. Generate new token (classic)
3. ê¶Œí•œ ì„ íƒ:
   - [x] repo (Full control)
   - [x] workflow (ì˜µì…˜)
4. Generate token
5. í† í° ë³µì‚¬ (í•œë²ˆë§Œ í‘œì‹œë¨!)

---

## 4. HTML í¬ìŠ¤í„° ì‚¬ìš©ë²•

1. GitHub ìœ ì €ëª… ì…ë ¥
2. ë¸”ë¡œê·¸ ë ˆí¬ ì´ë¦„ ì…ë ¥ (dtslib-posts)
3. Personal Access Token ë¶™ì—¬ë„£ê¸°
4. íŒŒì¼ëª… ì…ë ¥ (ì˜ˆ: post-001.html)
5. HTML ë‚´ìš© ì‘ì„±
6. "GitHub ë°°í¬" í´ë¦­
7. ë¼ì´ë¸Œ URLì—ì„œ í™•ì¸:
   https://[username].github.io/dtslib-posts/post-001.html

---

## 5. ë©”ì¸ ë ˆí¬ ì—°ë™

### ëœë”©í˜ì´ì§€ Blog ì„¹ì…˜
```html
<a href="https://[username].github.io/dtslib-posts/"
   class="page-card">
  <span class="page-icon">ğŸ“</span>
  <span class="page-name">Blog</span>
</a>
```

### Staff Portal ì—°ê²°
- HTML í¬ìŠ¤í„°: ./tools/html-poster.html
- ë¸”ë¡œê·¸ ê´€ë¦¬: GitHub ë ˆí¬ ì§ì ‘ ì ‘ê·¼

---

## 6. ìë™í™” (ì„ íƒ)

### GitHub Actions ì›Œí¬í”Œë¡œìš°
`.github/workflows/deploy.yml` ìƒì„±:

```yaml
name: Deploy to Pages
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/configure-pages@v4
      - uses: actions/upload-pages-artifact@v3
        with:
          path: '.'
      - uses: actions/deploy-pages@v4
```

---

## 7. í´ë” êµ¬ì¡° ê¶Œì¥

```
dtslib-posts/
â”œâ”€â”€ index.html      # í¬ìŠ¤íŠ¸ ëª©ë¡
â”œâ”€â”€ post-001.html   # ì²«ë²ˆì§¸ í¬ìŠ¤íŠ¸
â”œâ”€â”€ post-002.html   # ë‘ë²ˆì§¸ í¬ìŠ¤íŠ¸
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ images/     # ì´ë¯¸ì§€ ì €ì¥
â””â”€â”€ README.md
```

---

*ì´ ë°±ì„œë¥¼ Claudeì— ë¶™ì—¬ë„£ê³  "ì´ëŒ€ë¡œ êµ¬ì¶•í•´ì¤˜" í•˜ë©´ ë©ë‹ˆë‹¤.*
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// Tab switching
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('tab-' + btn.dataset.tab).classList.add('active');
  });
});

// Load saved settings (Staff Portal ì„¤ì • ìš°ì„ )
const portalConfig = localStorage.getItem('dtslib_repo_config');
if (portalConfig) {
  const config = JSON.parse(portalConfig);
  if (config.githubId) document.getElementById('repoOwner').value = config.githubId;
  if (config.blogRepo) document.getElementById('repoName').value = config.blogRepo;
  if (config.pat) document.getElementById('ghToken').value = config.pat;
} else {
  // fallback to sessionStorage
  const savedOwner = sessionStorage.getItem('gh_owner');
  const savedRepo = sessionStorage.getItem('gh_repo');
  const savedToken = sessionStorage.getItem('gh_token');
  if (savedOwner) document.getElementById('repoOwner').value = savedOwner;
  if (savedRepo) document.getElementById('repoName').value = savedRepo;
  if (savedToken) document.getElementById('ghToken').value = savedToken;
}

// Save settings on change
['repoOwner', 'repoName', 'ghToken'].forEach(id => {
  document.getElementById(id).addEventListener('change', (e) => {
    sessionStorage.setItem('gh_' + id.replace('repo', '').replace('gh', '').toLowerCase(), e.target.value);
  });
});

// Preview
document.getElementById('previewBtn').addEventListener('click', () => {
  const html = document.getElementById('htmlContent').value;
  const previewSection = document.getElementById('previewSection');
  const previewFrame = document.getElementById('previewFrame');

  previewFrame.innerHTML = html;
  previewSection.style.display = 'block';
  previewSection.scrollIntoView({ behavior: 'smooth' });
});

// Publish to GitHub
document.getElementById('publishBtn').addEventListener('click', async () => {
  const owner = document.getElementById('repoOwner').value;
  const repo = document.getElementById('repoName').value;
  const token = document.getElementById('ghToken').value;
  const fileName = document.getElementById('fileName').value;
  const content = document.getElementById('htmlContent').value;
  const status = document.getElementById('status');

  if (!owner || !repo || !token || !fileName || !content) {
    showStatus('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
    return;
  }

  // Save settings
  sessionStorage.setItem('gh_owner', owner);
  sessionStorage.setItem('gh_repo', repo);
  sessionStorage.setItem('gh_token', token);

  showStatus('ë°°í¬ ì¤‘...', 'success');

  try {
    // Check if file exists
    let sha = null;
    try {
      const checkRes = await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${fileName}`, {
        headers: { 'Authorization': `token ${token}` }
      });
      if (checkRes.ok) {
        const data = await checkRes.json();
        sha = data.sha;
      }
    } catch (e) {}

    // Create or update file
    const body = {
      message: `Update ${fileName}`,
      content: btoa(unescape(encodeURIComponent(content))),
      branch: 'main'
    };
    if (sha) body.sha = sha;

    const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${fileName}`, {
      method: 'PUT',
      headers: {
        'Authorization': `token ${token}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(body)
    });

    if (res.ok) {
      const liveUrl = `https://${owner}.github.io/${repo}/${fileName}`;
      showStatus(`ë°°í¬ ì™„ë£Œ! ${liveUrl}`, 'success');
      showToast('GitHub ë°°í¬ ì„±ê³µ!');
    } else {
      const err = await res.json();
      showStatus(`ì—ëŸ¬: ${err.message}`, 'error');
    }
  } catch (e) {
    showStatus(`ì—ëŸ¬: ${e.message}`, 'error');
  }
});

// Copy whitepaper
document.getElementById('copyWhitepaper').addEventListener('click', () => {
  const content = document.getElementById('whitepaperContent').textContent;
  navigator.clipboard.writeText(content).then(() => {
    showToast('ë°±ì„œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤');
  });
});

function showStatus(msg, type) {
  const status = document.getElementById('status');
  status.textContent = msg;
  status.className = 'status show ' + type;
}

function showToast(msg) {
  const toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 2000);
}
</script>

</body>
</html>
